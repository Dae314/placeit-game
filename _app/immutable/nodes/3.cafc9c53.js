import{G as Ne,s as ae,e as ne,i as B,H as ue,d as g,f as E,g as N,h as I,j as D,k as $,N as Ae,l as H,m as F,C,D as w,a as K,c as Q,K as se,v as fe,n as de,J as Me,o as Pe,M as j}from"../chunks/scheduler.2a48a4a4.js";import{t as ie,a as oe,S as he,i as ve,g as Re,c as Le,b as Ie,d as xe,m as Ce,e as Ve}from"../chunks/index.c5a2a3c6.js";import{A as G,s as We}from"../chunks/AppData.c31825e0.js";function te(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Ge(i,l){ie(i,1,1,()=>{l.delete(i.key)})}function He(i,l,t,e,n,a,s,v,c,u,b,m){let p=i.length,k=a.length,y=p;const V={};for(;y--;)V[i[y].key]=y;const M=[],U=new Map,R=new Map,q=[];for(y=k;y--;){const r=m(n,a,y),_=t(r);let o=s.get(_);o?e&&q.push(()=>o.p(r,l)):(o=u(_,r),o.c()),U.set(_,M[y]=o),_ in V&&R.set(_,Math.abs(y-V[_]))}const z=new Set,O=new Set;function h(r){oe(r,1),r.m(v,b),s.set(r.key,r),b=r.first,k--}for(;p&&k;){const r=M[k-1],_=i[p-1],o=r.key,f=_.key;r===_?(b=r.first,p--,k--):U.has(f)?!s.has(o)||z.has(o)?h(r):O.has(f)?p--:R.get(o)>R.get(f)?(O.add(o),h(r)):(z.add(f),p--):(c(_,s),p--)}for(;p--;){const r=i[p];U.has(r.key)||c(r,s)}for(;k;)h(M[k-1]);return Ne(q),M}function be(i,l,t){const e=i.slice();return e[6]=l[t],e}function ye(i){let l,t=i[6]+"",e;return{c(){l=E("div"),e=H(t),this.h()},l(n){l=N(n,"DIV",{class:!0});var a=I(l);e=F(a,t),a.forEach(g),this.h()},h(){D(l,"class","digit svelte-tmlpoc"),C(l,"active",i[0]==="x"||i[6]===i[0])},m(n,a){B(n,l,a),w(l,e)},p(n,a){a&5&&C(l,"active",n[0]==="x"||n[6]===n[0])},d(n){n&&g(l)}}}function we(i){let l,t=te(i[2]),e=[];for(let n=0;n<t.length;n+=1)e[n]=ye(be(i,t,n));return{c(){l=E("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){l=N(n,"DIV",{class:!0,style:!0});var a=I(l);for(let s=0;s<e.length;s+=1)e[s].l(a);a.forEach(g),this.h()},h(){D(l,"class","container svelte-tmlpoc"),$(l,"--line-height",i[1]+"px"),$(l,"--offset",i[3](i[0])+"px")},m(n,a){B(n,l,a);for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(l,null)},p(n,a){if(a&5){t=te(n[2]);let s;for(s=0;s<t.length;s+=1){const v=be(n,t,s);e[s]?e[s].p(v,a):(e[s]=ye(v),e[s].c(),e[s].m(l,null))}for(;s<e.length;s+=1)e[s].d(1);e.length=t.length}a&2&&$(l,"--line-height",n[1]+"px"),a&1&&$(l,"--offset",n[3](n[0])+"px")},d(n){n&&g(l),Ae(e,n)}}}function Fe(i){let l=i[1],t,e=we(i);return{c(){e.c(),t=ne()},l(n){e.l(n),t=ne()},m(n,a){e.m(n,a),B(n,t,a)},p(n,[a]){a&2&&ae(l,l=n[1])?(e.d(1),e=we(n),e.c(),e.m(t.parentNode,t)):e.p(n,a)},i:ue,o:ue,d(n){n&&g(t),e.d(n)}}}function Ue(i,l,t){let{number:e}=l,n=120;const a=["x",0,1,2,3,4,5,6,7,8,9];function s(u){return u==="x"?0:-(u+1)*n}window.matchMedia("(max-width: 740px)").addEventListener("change",c);function c(u){u.matches&&t(1,n=100)}return i.$$set=u=>{"number"in u&&t(0,e=u.number)},[e,n,a,s]}class Ye extends he{constructor(l){super(),ve(this,l,Ue,Fe,ae,{number:0})}}function ke(i,l,t){const e=i.slice();return e[2]=l[t],e[4]=t,e}function Se(i,l){let t,e,n;return e=new Ye({props:{number:l[2]}}),{key:i,first:null,c(){t=ne(),Ie(e.$$.fragment),this.h()},l(a){t=ne(),xe(e.$$.fragment,a),this.h()},h(){this.first=t},m(a,s){B(a,t,s),Ce(e,a,s),n=!0},p(a,s){l=a;const v={};s&1&&(v.number=l[2]),e.$set(v)},i(a){n||(oe(e.$$.fragment,a),n=!0)},o(a){ie(e.$$.fragment,a),n=!1},d(a){a&&g(t),Ve(e,a)}}}function je(i){let l,t,e=[],n=new Map,a,s=te(i[0]);const v=c=>c[0].length-c[4];for(let c=0;c<s.length;c+=1){let u=ke(i,s,c),b=v(u);n.set(b,e[c]=Se(b,u))}return{c(){l=E("div"),t=E("div");for(let c=0;c<e.length;c+=1)e[c].c();this.h()},l(c){l=N(c,"DIV",{class:!0});var u=I(l);t=N(u,"DIV",{class:!0});var b=I(t);for(let m=0;m<e.length;m+=1)e[m].l(b);b.forEach(g),u.forEach(g),this.h()},h(){D(t,"class","digits svelte-157obfn"),D(l,"class","container svelte-157obfn")},m(c,u){B(c,l,u),w(l,t);for(let b=0;b<e.length;b+=1)e[b]&&e[b].m(t,null);a=!0},p(c,[u]){u&1&&(s=te(c[0]),Re(),e=He(e,u,v,1,c,s,n,t,Ge,Se,null,ke),Le())},i(c){if(!a){for(let u=0;u<s.length;u+=1)oe(e[u]);a=!0}},o(c){for(let u=0;u<e.length;u+=1)ie(e[u]);a=!1},d(c){c&&g(l);for(let u=0;u<e.length;u+=1)e[u].d()}}}function qe(i,l,t){let e,{value:n=0}=l;return i.$$set=a=>{"value"in a&&t(1,n=a.value)},i.$$.update=()=>{i.$$.dirty&2&&t(0,e=n.toString().padStart(3,"x").split("").map(a=>a==="x"?a:Number(a)))},[e,n]}class ze extends he{constructor(l){super(),ve(this,l,qe,je,ae,{value:1})}}function De(i,l,t){const e=i.slice();return e[19]=l[t],e[21]=t,e}function Je(i){let l,t=i[21]+1+"",e;return{c(){l=E("span"),e=H(t),this.h()},l(n){l=N(n,"SPAN",{class:!0});var a=I(l);e=F(a,t),a.forEach(g),this.h()},h(){D(l,"class","unusedBucketText svelte-1xw4na9")},m(n,a){B(n,l,a),w(l,e)},p:ue,d(n){n&&g(l)}}}function Ke(i){let l,t=i[19].value+"",e;return{c(){l=E("span"),e=H(t)},l(n){l=N(n,"SPAN",{});var a=I(l);e=F(a,t),a.forEach(g)},m(n,a){B(n,l,a),w(l,e)},p(n,a){a&2&&t!==(t=n[19].value+"")&&de(e,t)},d(n){n&&g(l)}}}function Te(i){let l,t,e,n,a,s,v,c;function u(k,y){return k[19].value?Ke:Je}let b=u(i),m=b(i);function p(){return i[10](i[21])}return{c(){l=E("div"),t=E("button"),m.c(),n=K(),a=E("div"),s=K(),this.h()},l(k){l=N(k,"DIV",{class:!0});var y=I(l);t=N(y,"BUTTON",{class:!0,type:!0});var V=I(t);m.l(V),V.forEach(g),n=Q(y),a=N(y,"DIV",{class:!0}),I(a).forEach(g),s=Q(y),y.forEach(g),this.h()},h(){D(t,"class","bucketButton svelte-1xw4na9"),D(t,"type","button"),t.disabled=e=i[19].disabled,D(a,"class","underline svelte-1xw4na9"),C(a,"disabled",i[19].disabled),D(l,"class","bucket svelte-1xw4na9")},m(k,y){B(k,l,y),w(l,t),m.m(t,null),w(l,n),w(l,a),w(l,s),v||(c=fe(t,"click",p),v=!0)},p(k,y){i=k,b===(b=u(i))&&m?m.p(i,y):(m.d(1),m=b(i),m&&(m.c(),m.m(t,null))),y&2&&e!==(e=i[19].disabled)&&(t.disabled=e),y&2&&C(a,"disabled",i[19].disabled)},d(k){k&&g(l),m.d(),v=!1,c()}}}function Qe(i){let l,t,e,n,a,s,v,c,u="GAME OVER",b,m,p,k,y,V,M,U,R,q,z,O,h,r="RETRY",_,o,f="SHARE",S,L,X,pe="COPIED TO CLIPBOARD!",P,re,me;e=new ze({props:{value:i[0]}});let Z=te(i[1]),A=[];for(let d=0;d<Z.length;d+=1)A[d]=Te(De(i,Z,d));return{c(){l=E("div"),t=E("div"),Ie(e.$$.fragment),n=K(),a=E("div");for(let d=0;d<A.length;d+=1)A[d].c();s=K(),v=E("div"),c=E("span"),c.textContent=u,b=K(),m=E("div"),p=E("p"),k=H("You placed "),y=H(i[5]),V=H(" out of "),M=H(ee),U=H(" tiles in "),R=H(i[6]),q=H("!"),z=K(),O=E("div"),h=E("button"),h.textContent=r,_=K(),o=E("button"),o.textContent=f,S=K(),L=E("div"),X=E("p"),X.textContent=pe,this.h()},l(d){l=N(d,"DIV",{class:!0});var T=I(l);t=N(T,"DIV",{class:!0});var W=I(t);xe(e.$$.fragment,W),W.forEach(g),n=Q(T),a=N(T,"DIV",{class:!0});var x=I(a);for(let ce=0;ce<A.length;ce+=1)A[ce].l(x);x.forEach(g),T.forEach(g),s=Q(d),v=N(d,"DIV",{class:!0,style:!0});var Y=I(v);c=N(Y,"SPAN",{class:!0,"data-svelte-h":!0}),se(c)!=="svelte-1avriz"&&(c.textContent=u),b=Q(Y),m=N(Y,"DIV",{class:!0});var _e=I(m);p=N(_e,"P",{class:!0});var J=I(p);k=F(J,"You placed "),y=F(J,i[5]),V=F(J," out of "),M=F(J,ee),U=F(J," tiles in "),R=F(J,i[6]),q=F(J,"!"),J.forEach(g),_e.forEach(g),z=Q(Y),O=N(Y,"DIV",{class:!0});var le=I(O);h=N(le,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),se(h)!=="svelte-7t9phd"&&(h.textContent=r),_=Q(le),o=N(le,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),se(o)!=="svelte-149veyf"&&(o.textContent=f),le.forEach(g),Y.forEach(g),S=Q(d),L=N(d,"DIV",{class:!0,style:!0});var ge=I(L);X=N(ge,"P",{class:!0,"data-svelte-h":!0}),se(X)!=="svelte-k1nd5u"&&(X.textContent=pe),ge.forEach(g),this.h()},h(){D(t,"class","rollArea svelte-1xw4na9"),D(a,"class","tableArea svelte-1xw4na9"),D(l,"class","container svelte-1xw4na9"),D(c,"class","gameOverText svelte-1xw4na9"),C(c,"textVisible",i[2]),C(c,"dismissTextAnimation",i[3]),D(p,"class","svelte-1xw4na9"),D(m,"class","statsArea svelte-1xw4na9"),D(h,"class","playAgainButton svelte-1xw4na9"),D(h,"type","button"),D(o,"class","shareButton svelte-1xw4na9"),D(o,"type","button"),D(O,"class","buttonArea svelte-1xw4na9"),D(v,"class","gameOverOverlay svelte-1xw4na9"),$(v,"--gameOverAnimationTime",Be+"ms"),C(v,"visible",i[2]),C(v,"dismissAnimation",i[3]),D(X,"class","svelte-1xw4na9"),D(L,"class","copyConfirm svelte-1xw4na9"),$(L,"--copyConfirmDelay",Oe+"ms"),C(L,"copyVisible",i[4])},m(d,T){B(d,l,T),w(l,t),Ce(e,t,null),w(l,n),w(l,a);for(let W=0;W<A.length;W+=1)A[W]&&A[W].m(a,null);B(d,s,T),B(d,v,T),w(v,c),w(v,b),w(v,m),w(m,p),w(p,k),w(p,y),w(p,V),w(p,M),w(p,U),w(p,R),w(p,q),w(v,z),w(v,O),w(O,h),w(O,_),w(O,o),B(d,S,T),B(d,L,T),w(L,X),P=!0,re||(me=[fe(h,"click",i[7]),fe(o,"click",i[9])],re=!0)},p(d,[T]){const W={};if(T&1&&(W.value=d[0]),e.$set(W),T&258){Z=te(d[1]);let x;for(x=0;x<Z.length;x+=1){const Y=De(d,Z,x);A[x]?A[x].p(Y,T):(A[x]=Te(Y),A[x].c(),A[x].m(a,null))}for(;x<A.length;x+=1)A[x].d(1);A.length=Z.length}(!P||T&4)&&C(c,"textVisible",d[2]),(!P||T&8)&&C(c,"dismissTextAnimation",d[3]),(!P||T&32)&&de(y,d[5]),(!P||T&64)&&de(R,d[6]),(!P||T&4)&&C(v,"visible",d[2]),(!P||T&8)&&C(v,"dismissAnimation",d[3]),(!P||T&16)&&C(L,"copyVisible",d[4])},i(d){P||(oe(e.$$.fragment,d),P=!0)},o(d){ie(e.$$.fragment,d),P=!1},d(d){d&&(g(l),g(s),g(v),g(S),g(L)),Ve(e),Ae(A,d),re=!1,Ne(me)}}}const ee=20,Xe=1,Ee=999,Ze=1e3,Be=750,Oe=1e3;function $e(i){let l=Math.floor(i/6e4),t=(i%6e4/1e3).toFixed(0);return`${l}:${t<10?"0":""}${t}`}function et(i,l,t){let e;Me(i,G,h=>t(14,e=h));let n,a,s=new Array(ee).fill().map(()=>({disabled:!1,value:null})),v=!1,c=!1,u=!1,b=0,m=new Date,p,k;Pe(()=>{t(0,a=Ee),setTimeout(()=>y(),100)});function y(){n=[];for(let h=Xe;h<=Ee;h++)n.push(h);t(1,s=new Array(ee).fill().map(()=>({disabled:!1,value:null}))),t(3,c=!0),setTimeout(()=>{t(2,v=!1),t(3,c=!1),m=new Date},Be),p={},V()}function V(){const r=n.length,_=Math.floor(Math.random()*(r-0+1))+0,o=n[_];n.splice(_,1),t(0,a=o),U()}function M(h){t(1,s[h].value=a,s),t(1,s[h].disabled=!0,s),V(),R()}function U(){if(s.every(o=>o.value===null))return;const h=s.filter(o=>o.value!==null).map(o=>o.value);let r=NaN;for(const o of h)o<a&&(isNaN(r)||o>r)&&(r=o);let _=NaN;for(const o of h)o>a&&(isNaN(_)||o<_)&&(_=o);if(isNaN(r)&&!isNaN(_)){let o=s.findIndex(f=>f.value===_);for(let f=0;f<o;f++)s[f].value||t(1,s[f].disabled=!1,s);for(let f=o+1;f<s.length;f++)s[f].value||t(1,s[f].disabled=!0,s)}else if(!isNaN(r)&&isNaN(_)){let o=s.findIndex(f=>f.value===r);for(let f=o;f<s.length;f++)s[f].value||t(1,s[f].disabled=!1,s);for(let f=0;f<o;f++)s[f].value||t(1,s[f].disabled=!0,s)}else{let o=s.findIndex(S=>S.value===r),f=s.findIndex(S=>S.value===_);for(let S=0;S<o;S++)s[S].value||t(1,s[S].disabled=!0,s);for(let S=o;S<f;S++)s[S].value||t(1,s[S].disabled=!1,s);for(let S=f;S<s.length;S++)s[S].value||t(1,s[S].disabled=!0,s)}}function R(){let h;if(s.every(r=>r.value!==null)?h="win":s.every(r=>r.disabled===!0)?h="lose":h="continue",h!=="continue"){p=new Date,t(6,k=$e(p-m)),t(5,b=s.filter(o=>o.value!==null).length);let r=s.reduce((o,f)=>f.value>o.value?f:o),_=s.reduce((o,f)=>f.value<o.value?f:o);j(G,e.playerStats.totalGames++,e),b>e.playerStats.highestScore&&j(G,e.playerStats.highestScore=b,e),r>e.playerStats.highestPlaced&&j(G,e.playerStats.highestPlaced=r,e),_<e.playerStats.lowestPlaced&&j(G,e.playerStats.lowestPlaced=_,e),h==="win"&&(j(G,e.playerStats.wonGames++,e),(e.playerStats.fastestWin===null||p-m<e.playerStats.fastestWin)&&j(G,e.playerStats.fastestWin=p-m,e),(e.playerStats.slowestWin===null||p-m>e.playerStats.slowestWin)&&j(G,e.playerStats.slowestWin=p-m,e),s[0].value>e.playerStats.highestFirstBucket&&j(G,e.playerStats.highestFirstBucket=s[0].value,e),s[ee-1]<e.playerStats.lowestLastBucket&&j(G,e.playerStats.lowestLastBucket=s[ee-1].value,e)),We(),setTimeout(()=>t(2,v=!0),Ze)}}function q(){const h=`I placed ${b} tiles in ${k} on PlaceIt!`,r=z(),o=`${h}

${r}

Play at https://placitgame.net`;navigator.clipboard.writeText(o),t(4,u=!0),setTimeout(()=>t(4,u=!1),Oe)}function z(){let r="";for(const[_,o]of s.entries())o.value===null?r=r+"🟨":r=r+"🟦",(_+1)%5===0&&(r=r+`
`);return r.trim()}return[a,s,v,c,u,b,k,y,M,q,h=>M(h)]}class nt extends he{constructor(l){super(),ve(this,l,et,Qe,ae,{})}}export{nt as component};
