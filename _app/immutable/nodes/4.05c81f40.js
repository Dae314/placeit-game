import{F as Ze,s as ke,e as we,i as O,G as de,d as _,f as S,g as T,h as I,j as y,k as fe,M as $e,l as L,m as M,B as x,C as d,a as U,J as ae,c as Y,u as Pe,n as ue,I as it,o as ot,z as rt,L as G,E as ct}from"../chunks/scheduler.9657a15e.js";import{t as Se,a as me,S as Le,i as Me,g as ut,c as ft,b as et,d as tt,m as lt,e as st,h as dt}from"../chunks/index.ab4fc0a5.js";import{b as ht}from"../chunks/paths.41d26f74.js";import{s as pt}from"../chunks/index.a7cb4865.js";import{A as W,s as vt}from"../chunks/AppData.0a08a62a.js";function he(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function mt(i,s){Se(i,1,1,()=>{s.delete(i.key)})}function _t(i,s,l,e,n,a,t,E,r,u,g,m){let k=i.length,f=a.length,b=k;const z={};for(;b--;)z[i[b].key]=b;const j=[],B=new Map,F=new Map,q=[];for(b=f;b--;){const C=m(n,a,b),P=l(C);let h=t.get(P);h?e&&q.push(()=>h.p(C,s)):(h=u(P,C),h.c()),B.set(P,j[b]=h),P in z&&F.set(P,Math.abs(b-z[P]))}const ee=new Set,te=new Set;function Q(C){me(C,1),C.m(E,g),t.set(C.key,C),g=C.first,f--}for(;k&&f;){const C=j[f-1],P=i[k-1],h=C.key,p=P.key;C===P?(g=C.first,k--,f--):B.has(p)?!t.has(h)||ee.has(h)?Q(C):te.has(p)?k--:F.get(h)>F.get(p)?(te.add(h),Q(C)):(ee.add(p),k--):(r(P,t),k--)}for(;k--;){const C=i[k];B.has(C.key)||r(C,t)}for(;f;)Q(j[f-1]);return Ze(q),j}function Ue(i,s,l){const e=i.slice();return e[10]=s[l],e}function Ye(i){let s,l=i[10]+"",e;return{c(){s=S("div"),e=L(l),this.h()},l(n){s=T(n,"DIV",{class:!0});var a=I(s);e=M(a,l),a.forEach(_),this.h()},h(){y(s,"class","digit svelte-tmlpoc"),x(s,"active",i[0]==="x"||i[10]===i[0])},m(n,a){O(n,s,a),d(s,e)},p(n,a){a&5&&x(s,"active",n[0]==="x"||n[10]===n[0])},d(n){n&&_(s)}}}function je(i){let s,l=he(i[2]),e=[];for(let n=0;n<l.length;n+=1)e[n]=Ye(Ue(i,l,n));return{c(){s=S("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){s=T(n,"DIV",{class:!0,style:!0});var a=I(s);for(let t=0;t<e.length;t+=1)e[t].l(a);a.forEach(_),this.h()},h(){y(s,"class","container svelte-tmlpoc"),fe(s,"--line-height",i[1]+"px"),fe(s,"--offset",i[3](i[0])+"px")},m(n,a){O(n,s,a);for(let t=0;t<e.length;t+=1)e[t]&&e[t].m(s,null)},p(n,a){if(a&5){l=he(n[2]);let t;for(t=0;t<l.length;t+=1){const E=Ue(n,l,t);e[t]?e[t].p(E,a):(e[t]=Ye(E),e[t].c(),e[t].m(s,null))}for(;t<e.length;t+=1)e[t].d(1);e.length=l.length}a&2&&fe(s,"--line-height",n[1]+"px"),a&1&&fe(s,"--offset",n[3](n[0])+"px")},d(n){n&&_(s),$e(e,n)}}}function gt(i){let s=i[1],l,e=je(i);return{c(){e.c(),l=we()},l(n){e.l(n),l=we()},m(n,a){e.m(n,a),O(n,l,a)},p(n,[a]){a&2&&ke(s,s=n[1])?(e.d(1),e=je(n),e.c(),e.m(l.parentNode,l)):e.p(n,a)},i:de,o:de,d(n){n&&_(l),e.d(n)}}}function bt(i,s,l){let{number:e}=s,n=120;const a=["x",0,1,2,3,4,5,6,7,8,9];function t(f){return f==="x"?0:-(f+1)*n}const E=window.matchMedia("(min-width: 740px)"),r=window.matchMedia("(max-width: 740px)"),u=window.matchMedia("(max-width: 330px)");E.addEventListener("change",g),r.addEventListener("change",m),u.addEventListener("change",k);function g(f){f.matches&&l(1,n=120)}function m(f){f.matches&&l(1,n=100)}function k(f){f.matches&&l(1,n=75)}return i.$$set=f=>{"number"in f&&l(0,e=f.number)},[e,n,a,t]}class yt extends Le{constructor(s){super(),Me(this,s,bt,gt,ke,{number:0})}}function qe(i,s,l){const e=i.slice();return e[2]=s[l],e[4]=l,e}function Je(i,s){let l,e,n;return e=new yt({props:{number:s[2]}}),{key:i,first:null,c(){l=we(),et(e.$$.fragment),this.h()},l(a){l=we(),tt(e.$$.fragment,a),this.h()},h(){this.first=l},m(a,t){O(a,l,t),lt(e,a,t),n=!0},p(a,t){s=a;const E={};t&1&&(E.number=s[2]),e.$set(E)},i(a){n||(me(e.$$.fragment,a),n=!0)},o(a){Se(e.$$.fragment,a),n=!1},d(a){a&&_(l),st(e,a)}}}function wt(i){let s,l,e=[],n=new Map,a,t=he(i[0]);const E=r=>r[0].length-r[4];for(let r=0;r<t.length;r+=1){let u=qe(i,t,r),g=E(u);n.set(g,e[r]=Je(g,u))}return{c(){s=S("div"),l=S("div");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){s=T(r,"DIV",{class:!0});var u=I(s);l=T(u,"DIV",{class:!0});var g=I(l);for(let m=0;m<e.length;m+=1)e[m].l(g);g.forEach(_),u.forEach(_),this.h()},h(){y(l,"class","digits svelte-157obfn"),y(s,"class","container svelte-157obfn")},m(r,u){O(r,s,u),d(s,l);for(let g=0;g<e.length;g+=1)e[g]&&e[g].m(l,null);a=!0},p(r,[u]){u&1&&(t=he(r[0]),ut(),e=_t(e,u,E,1,r,t,n,l,mt,Je,null,qe),ft())},i(r){if(!a){for(let u=0;u<t.length;u+=1)me(e[u]);a=!0}},o(r){for(let u=0;u<e.length;u+=1)Se(e[u]);a=!1},d(r){r&&_(s);for(let u=0;u<e.length;u+=1)e[u].d()}}}function kt(i,s,l){let e,{value:n=0}=s;return i.$$set=a=>{"value"in a&&l(1,n=a.value)},i.$$.update=()=>{i.$$.dirty&2&&l(0,e=n.toString().padStart(3,"x").split("").map(a=>a==="x"?a:Number(a)))},[e,n]}class St extends Le{constructor(s){super(),Me(this,s,kt,wt,ke,{value:1})}}function Ke(i,s,l){const e=i.slice();return e[22]=s[l],e[24]=l,e}function Tt(i){let s,l=i[24]+1+"",e;return{c(){s=S("span"),e=L(l),this.h()},l(n){s=T(n,"SPAN",{class:!0});var a=I(s);e=M(a,l),a.forEach(_),this.h()},h(){y(s,"class","unusedBucketText svelte-nprz8o")},m(n,a){O(n,s,a),d(s,e)},p:de,i:de,o:de,d(n){n&&_(s)}}}function Ct(i){let s,l=i[22].value+"",e,n;return{c(){s=S("span"),e=L(l)},l(a){s=T(a,"SPAN",{});var t=I(s);e=M(t,l),t.forEach(_)},m(a,t){O(a,s,t),d(s,e)},p(a,t){t&2&&l!==(l=a[22].value+"")&&ue(e,l)},i(a){a&&(n||ct(()=>{n=dt(s,pt,{duration:100}),n.start()}))},o:de,d(a){a&&_(s)}}}function Qe(i){let s,l,e,n,a,t,E,r;function u(f,b){return f[22].value?Ct:Tt}let g=u(i),m=g(i);function k(){return i[12](i[24])}return{c(){s=S("div"),l=S("button"),m.c(),n=U(),a=S("div"),t=U(),this.h()},l(f){s=T(f,"DIV",{class:!0});var b=I(s);l=T(b,"BUTTON",{class:!0,type:!0});var z=I(l);m.l(z),z.forEach(_),n=Y(b),a=T(b,"DIV",{class:!0}),I(a).forEach(_),t=Y(b),b.forEach(_),this.h()},h(){y(l,"class","bucketButton svelte-nprz8o"),y(l,"type","button"),l.disabled=e=i[22].disabled,y(a,"class","underline svelte-nprz8o"),x(a,"disabled",i[22].disabled),y(s,"class","bucket svelte-nprz8o")},m(f,b){O(f,s,b),d(s,l),m.m(l,null),d(s,n),d(s,a),d(s,t),E||(r=Pe(l,"click",k),E=!0)},p(f,b){i=f,g===(g=u(i))&&m?m.p(i,b):(m.d(1),m=g(i),m&&(m.c(),me(m,1),m.m(l,null))),b&2&&e!==(e=i[22].disabled)&&(l.disabled=e),b&2&&x(a,"disabled",i[22].disabled)},d(f){f&&_(s),m.d(),E=!1,r()}}}function Et(i){let s,l=`<a href="${ht}/" class="backButton svelte-nprz8o">BACK</a>`,e,n,a,t,E,r,u,g="Time:",m,k=ve(i[7])+"",f,b,z,j="Previous Best:",B,F=i[8].playerStats.highestScore+"",q,ee,te,Q,C=ve(i[8].playerStats.highestScoreTime)+"",P,h,p,D,o,v,A="GAME OVER",Te,ie,H,Ce,_e,Ee,De,Ae,ge,Ie,Ne,le,X,Oe="RETRY",ze,Z,Re="SHARE",be,J,ne,xe="COPIED TO CLIPBOARD!",R,Be,Fe;t=new St({props:{value:i[0]}});let oe=he(i[1]),V=[];for(let c=0;c<oe.length;c+=1)V[c]=Qe(Ke(i,oe,c));return{c(){s=S("div"),s.innerHTML=l,e=U(),n=S("div"),a=S("div"),et(t.$$.fragment),E=U(),r=S("div"),u=S("p"),u.textContent=g,m=S("p"),f=L(k),b=U(),z=S("p"),z.textContent=j,B=S("p"),q=L(F),ee=L(" out of "),te=L($),Q=L(" in "),P=L(C),h=U(),p=S("div");for(let c=0;c<V.length;c+=1)V[c].c();D=U(),o=S("div"),v=S("span"),v.textContent=A,Te=U(),ie=S("div"),H=S("p"),Ce=L("You placed "),_e=L(i[5]),Ee=L(" out of "),De=L($),Ae=L(" tiles in "),ge=L(i[6]),Ie=L("!"),Ne=U(),le=S("div"),X=S("button"),X.textContent=Oe,ze=U(),Z=S("button"),Z.textContent=Re,be=U(),J=S("div"),ne=S("p"),ne.textContent=xe,this.h()},l(c){s=T(c,"DIV",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-196lbky"&&(s.innerHTML=l),e=Y(c),n=T(c,"DIV",{class:!0});var w=I(n);a=T(w,"DIV",{class:!0});var K=I(a);tt(t.$$.fragment,K),K.forEach(_),E=Y(w),r=T(w,"DIV",{class:!0});var N=I(r);u=T(N,"P",{class:!0,"data-svelte-h":!0}),ae(u)!=="svelte-16vailj"&&(u.textContent=g),m=T(N,"P",{class:!0});var pe=I(m);f=M(pe,k),pe.forEach(_),b=Y(N),z=T(N,"P",{class:!0,"data-svelte-h":!0}),ae(z)!=="svelte-e36n45"&&(z.textContent=j),B=T(N,"P",{class:!0});var re=I(B);q=M(re,F),ee=M(re," out of "),te=M(re,$),Q=M(re," in "),P=M(re,C),re.forEach(_),N.forEach(_),h=Y(w),p=T(w,"DIV",{class:!0});var He=I(p);for(let Ve=0;Ve<V.length;Ve+=1)V[Ve].l(He);He.forEach(_),w.forEach(_),D=Y(c),o=T(c,"DIV",{class:!0,style:!0});var ce=I(o);v=T(ce,"SPAN",{class:!0,"data-svelte-h":!0}),ae(v)!=="svelte-1avriz"&&(v.textContent=A),Te=Y(ce),ie=T(ce,"DIV",{class:!0});var We=I(ie);H=T(We,"P",{class:!0});var se=I(H);Ce=M(se,"You placed "),_e=M(se,i[5]),Ee=M(se," out of "),De=M(se,$),Ae=M(se," tiles in "),ge=M(se,i[6]),Ie=M(se,"!"),se.forEach(_),We.forEach(_),Ne=Y(ce),le=T(ce,"DIV",{class:!0});var ye=I(le);X=T(ye,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ae(X)!=="svelte-7t9phd"&&(X.textContent=Oe),ze=Y(ye),Z=T(ye,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ae(Z)!=="svelte-149veyf"&&(Z.textContent=Re),ye.forEach(_),ce.forEach(_),be=Y(c),J=T(c,"DIV",{class:!0,style:!0});var Ge=I(J);ne=T(Ge,"P",{class:!0,"data-svelte-h":!0}),ae(ne)!=="svelte-k1nd5u"&&(ne.textContent=xe),Ge.forEach(_),this.h()},h(){y(s,"class","navigation svelte-nprz8o"),y(a,"class","rollArea"),y(u,"class","timeLabel svelte-nprz8o"),y(m,"class","svelte-nprz8o"),y(z,"class","timeLabel svelte-nprz8o"),y(B,"class","svelte-nprz8o"),y(r,"class","timeArea svelte-nprz8o"),y(p,"class","tableArea svelte-nprz8o"),y(n,"class","container svelte-nprz8o"),y(v,"class","gameOverText svelte-nprz8o"),x(v,"textVisible",i[2]),x(v,"dismissTextAnimation",i[3]),y(H,"class","svelte-nprz8o"),y(ie,"class","statsArea svelte-nprz8o"),y(X,"class","playAgainButton svelte-nprz8o"),y(X,"type","button"),y(Z,"class","shareButton svelte-nprz8o"),y(Z,"type","button"),y(le,"class","buttonArea svelte-nprz8o"),y(o,"class","gameOverOverlay svelte-nprz8o"),fe(o,"--gameOverAnimationTime",nt+"ms"),x(o,"visible",i[2]),x(o,"dismissAnimation",i[3]),y(ne,"class","svelte-nprz8o"),y(J,"class","copyConfirm svelte-nprz8o"),fe(J,"--copyConfirmDelay",at+"ms"),x(J,"copyVisible",i[4])},m(c,w){O(c,s,w),O(c,e,w),O(c,n,w),d(n,a),lt(t,a,null),d(n,E),d(n,r),d(r,u),d(r,m),d(m,f),d(r,b),d(r,z),d(r,B),d(B,q),d(B,ee),d(B,te),d(B,Q),d(B,P),d(n,h),d(n,p);for(let K=0;K<V.length;K+=1)V[K]&&V[K].m(p,null);O(c,D,w),O(c,o,w),d(o,v),d(o,Te),d(o,ie),d(ie,H),d(H,Ce),d(H,_e),d(H,Ee),d(H,De),d(H,Ae),d(H,ge),d(H,Ie),d(o,Ne),d(o,le),d(le,X),d(le,ze),d(le,Z),O(c,be,w),O(c,J,w),d(J,ne),R=!0,Be||(Fe=[Pe(X,"click",i[9]),Pe(Z,"click",i[11])],Be=!0)},p(c,[w]){const K={};if(w&1&&(K.value=c[0]),t.$set(K),(!R||w&128)&&k!==(k=ve(c[7])+"")&&ue(f,k),(!R||w&256)&&F!==(F=c[8].playerStats.highestScore+"")&&ue(q,F),(!R||w&256)&&C!==(C=ve(c[8].playerStats.highestScoreTime)+"")&&ue(P,C),w&1026){oe=he(c[1]);let N;for(N=0;N<oe.length;N+=1){const pe=Ke(c,oe,N);V[N]?V[N].p(pe,w):(V[N]=Qe(pe),V[N].c(),V[N].m(p,null))}for(;N<V.length;N+=1)V[N].d(1);V.length=oe.length}(!R||w&4)&&x(v,"textVisible",c[2]),(!R||w&8)&&x(v,"dismissTextAnimation",c[3]),(!R||w&32)&&ue(_e,c[5]),(!R||w&64)&&ue(ge,c[6]),(!R||w&4)&&x(o,"visible",c[2]),(!R||w&8)&&x(o,"dismissAnimation",c[3]),(!R||w&16)&&x(J,"copyVisible",c[4])},i(c){R||(me(t.$$.fragment,c),R=!0)},o(c){Se(t.$$.fragment,c),R=!1},d(c){c&&(_(s),_(e),_(n),_(D),_(o),_(be),_(J)),st(t),$e(V,c),Be=!1,Ze(Fe)}}}const $=20,Dt=1,Xe=999,At=1e3,nt=750,at=1e3;function ve(i){if(!Number.isInteger(i))return"0:00";let s=Math.floor(i/6e4),l=(i%6e4/1e3).toFixed(0);return`${s}:${l<10?"0":""}${l}`}function It(i,s,l){let e;it(i,W,h=>l(8,e=h));let n,a,t=new Array($).fill().map(()=>({disabled:!1,value:null})),E=!1,r=!1,u=!1,g=0,m=window.performance.now(),k,f,b,z;ot(()=>{l(0,a=Xe),setTimeout(()=>B(),100)}),rt(()=>{window.cancelAnimationFrame(b)});function j(){b=window.requestAnimationFrame(j);const h=window.performance.now();l(7,z=h-m)}function B(){n=[];for(let h=Dt;h<=Xe;h++)n.push(h);l(1,t=new Array($).fill().map(()=>({disabled:!1,value:null}))),l(3,r=!0),setTimeout(()=>{l(2,E=!1),l(3,r=!1),m=window.performance.now(),j()},nt),k={},F()}function F(){const p=n.length-1,D=Math.floor(Math.random()*(p-0+1))+0,o=n[D];n.splice(D,1),l(0,a=o),ee()}function q(h){l(1,t[h].value=a,t),l(1,t[h].disabled=!0,t),F(),te()}function ee(){if(t.every(o=>o.value===null))return;const h=t.filter(o=>o.value!==null).map(o=>o.value);let p=NaN;for(const o of h)o<a&&(isNaN(p)||o>p)&&(p=o);let D=NaN;for(const o of h)o>a&&(isNaN(D)||o<D)&&(D=o);if(isNaN(p)&&!isNaN(D)){let o=t.findIndex(v=>v.value===D);for(let v=0;v<o;v++)t[v].value||l(1,t[v].disabled=!1,t);for(let v=o+1;v<t.length;v++)t[v].value||l(1,t[v].disabled=!0,t)}else if(!isNaN(p)&&isNaN(D)){let o=t.findIndex(v=>v.value===p);for(let v=o;v<t.length;v++)t[v].value||l(1,t[v].disabled=!1,t);for(let v=0;v<o;v++)t[v].value||l(1,t[v].disabled=!0,t)}else{let o=t.findIndex(A=>A.value===p),v=t.findIndex(A=>A.value===D);for(let A=0;A<o;A++)t[A].value||l(1,t[A].disabled=!0,t);for(let A=o;A<v;A++)t[A].value||l(1,t[A].disabled=!1,t);for(let A=v;A<t.length;A++)t[A].value||l(1,t[A].disabled=!0,t)}}function te(){let h;if(t.every(p=>p.value!==null)?h="win":t.every(p=>p.disabled===!0)?h="lose":h="continue",h!=="continue"){k=window.performance.now(),cancelAnimationFrame(b),l(6,f=ve(k-m)),l(5,g=t.filter(o=>o.value!==null).length);const p=t.find(o=>o.value),D=t.toReversed().find(o=>o.value);G(W,e.playerStats.totalGames++,e),g>e.playerStats.highestScore?(G(W,e.playerStats.highestScore=g,e),G(W,e.playerStats.highestScoreTime=f,e)):g===e.playerStats.highestScore&&f<e.playerStats.highestScoreTime&&G(W,e.playerStats.highestScoreTime=f,e),D.value>e.playerStats.highestPlaced&&G(W,e.playerStats.highestPlaced=D.value,e),p.value<e.playerStats.lowestPlaced&&G(W,e.playerStats.lowestPlaced=p.value,e),h==="win"&&(G(W,e.playerStats.wonGames++,e),(e.playerStats.fastestWin===null||k-m<e.playerStats.fastestWin)&&G(W,e.playerStats.fastestWin=k-m,e),(e.playerStats.slowestWin===null||k-m>e.playerStats.slowestWin)&&G(W,e.playerStats.slowestWin=k-m,e),t[0].value>e.playerStats.highestFirstBucket&&G(W,e.playerStats.highestFirstBucket=t[0].value,e),t[$-1]<e.playerStats.lowestLastBucket&&G(W,e.playerStats.lowestLastBucket=t[$-1].value,e)),vt(),setTimeout(()=>l(2,E=!0),At)}}function Q(){const h=`I placed ${g} out of ${$} tiles in ${f} on PlaceIt!`,p=C(),o=`${h}

${p}

Can you place more? https://placeitgame.app`;navigator.clipboard.writeText(o),l(4,u=!0),setTimeout(()=>l(4,u=!1),at)}function C(){let p="";for(const[D,o]of t.entries())o.value===null?p=p+"ðŸŸ¨":p=p+"ðŸŸ¦",(D+1)%5===0&&(p=p+`
`);return p.trim()}return[a,t,E,r,u,g,f,z,e,B,q,Q,h=>q(h)]}class Lt extends Le{constructor(s){super(),Me(this,s,It,Et,ke,{})}}export{Lt as component};
