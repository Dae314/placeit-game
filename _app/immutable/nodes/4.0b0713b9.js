import{F as Ve,s as he,e as ie,i as q,G as le,d as y,o as Oe,f as E,g as A,h as M,j as S,k as ue,N as xe,l as F,m as W,B as de,C as _,a as J,I as je,c as Q,K as se,n as ae,J as ye,z as Ue,u as ve,O as Ye,P as Ke,E as me,M as K}from"../chunks/scheduler.407f67a1.js";import{t as ne,a as ee,S as _e,i as be,g as Re,c as He,b as Fe,d as We,m as Ge,e as qe,f as fe,h as ze}from"../chunks/index.e89b7c83.js";import{b as Je}from"../chunks/paths.fa2c7b83.js";import{a as ke,f as Se,s as Qe}from"../chunks/index.1030b2d1.js";import{A as z,s as Xe}from"../chunks/AppData.725ebf90.js";import{A as Te}from"../chunks/Alert.39c2dfbf.js";import{f as re}from"../chunks/formatTime.5f24a19a.js";function oe(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Ze(n,l){ne(n,1,1,()=>{l.delete(n.key)})}function $e(n,l,t,s,e,a,o,i,u,h,r,g){let I=n.length,k=a.length,w=I;const H={};for(;w--;)H[n[w].key]=w;const L=[],V=new Map,X=new Map,P=[];for(w=k;w--;){const T=g(e,a,w),N=t(T);let c=o.get(N);c?s&&P.push(()=>c.p(T,l)):(c=h(N,T),c.c()),V.set(N,L[w]=c),N in H&&X.set(N,Math.abs(w-H[N]))}const O=new Set,x=new Set;function Y(T){ee(T,1),T.m(i,r),o.set(T.key,T),r=T.first,k--}for(;I&&k;){const T=L[k-1],N=n[I-1],c=T.key,m=N.key;T===N?(r=T.first,I--,k--):V.has(m)?!o.has(c)||O.has(c)?Y(T):x.has(m)?I--:X.get(c)>X.get(m)?(x.add(c),Y(T)):(O.add(m),I--):(u(N,o),I--)}for(;I--;){const T=n[I];V.has(T.key)||u(T,o)}for(;k;)Y(L[k-1]);return Ve(P),L}function Ee(n,l,t){const s=n.slice();return s[7]=l[t],s}function Ae(n){let l,t=n[7]+"",s;return{c(){l=E("div"),s=F(t),this.h()},l(e){l=A(e,"DIV",{class:!0});var a=M(l);s=W(a,t),a.forEach(y),this.h()},h(){S(l,"class","digit svelte-ko37nb"),de(l,"active",n[0]==="x"||n[7]===n[0])},m(e,a){q(e,l,a),_(l,s)},p(e,a){a&5&&de(l,"active",e[0]==="x"||e[7]===e[0])},d(e){e&&y(l)}}}function De(n){let l,t=oe(n[2]),s=[];for(let e=0;e<t.length;e+=1)s[e]=Ae(Ee(n,t,e));return{c(){l=E("div");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){l=A(e,"DIV",{class:!0,style:!0});var a=M(l);for(let o=0;o<s.length;o+=1)s[o].l(a);a.forEach(y),this.h()},h(){S(l,"class","container svelte-ko37nb"),ue(l,"--line-height",n[1]+"px"),ue(l,"--offset",n[3](n[0])+"px")},m(e,a){q(e,l,a);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(l,null)},p(e,a){if(a&5){t=oe(e[2]);let o;for(o=0;o<t.length;o+=1){const i=Ee(e,t,o);s[o]?s[o].p(i,a):(s[o]=Ae(i),s[o].c(),s[o].m(l,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=t.length}a&2&&ue(l,"--line-height",e[1]+"px"),a&1&&ue(l,"--offset",e[3](e[0])+"px")},d(e){e&&y(l),xe(s,e)}}}function et(n){let l=n[1],t,s=De(n);return{c(){s.c(),t=ie()},l(e){s.l(e),t=ie()},m(e,a){s.m(e,a),q(e,t,a)},p(e,[a]){a&2&&he(l,l=e[1])?(s.d(1),s=De(e),s.c(),s.m(t.parentNode,t)):s.p(e,a)},i:le,o:le,d(e){e&&y(t),s.d(e)}}}const tt=120,lt=100,Ie=75;function st(n,l,t){let{number:s}=l,e=Ie;const a=["x",0,1,2,3,4,5,6,7,8,9];function o(r){return r==="x"?0:-(r+1)*e}Oe(async()=>{const r=window.matchMedia("(min-width: 740px)"),g=window.matchMedia("(max-width: 740px)"),I=window.matchMedia("(max-width: 330px)");r.addEventListener("change",i),g.addEventListener("change",u),I.addEventListener("change",h),I.matches?t(1,e=Ie):g.matches?t(1,e=lt):t(1,e=tt)});function i(r){r.matches&&t(1,e=120)}function u(r){r.matches&&t(1,e=100)}function h(r){r.matches&&t(1,e=75)}return n.$$set=r=>{"number"in r&&t(0,s=r.number)},[s,e,a,o]}class at extends _e{constructor(l){super(),be(this,l,st,et,he,{number:0})}}function Ne(n,l,t){const s=n.slice();return s[2]=l[t],s[4]=t,s}function Be(n,l){let t,s,e;return s=new at({props:{number:l[2]}}),{key:n,first:null,c(){t=ie(),Fe(s.$$.fragment),this.h()},l(a){t=ie(),We(s.$$.fragment,a),this.h()},h(){this.first=t},m(a,o){q(a,t,o),Ge(s,a,o),e=!0},p(a,o){l=a;const i={};o&1&&(i.number=l[2]),s.$set(i)},i(a){e||(ee(s.$$.fragment,a),e=!0)},o(a){ne(s.$$.fragment,a),e=!1},d(a){a&&y(t),qe(s,a)}}}function nt(n){let l,t,s=[],e=new Map,a,o=oe(n[0]);const i=u=>u[0].length-u[4];for(let u=0;u<o.length;u+=1){let h=Ne(n,o,u),r=i(h);e.set(r,s[u]=Be(r,h))}return{c(){l=E("div"),t=E("div");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l(u){l=A(u,"DIV",{class:!0});var h=M(l);t=A(h,"DIV",{class:!0});var r=M(t);for(let g=0;g<s.length;g+=1)s[g].l(r);r.forEach(y),h.forEach(y),this.h()},h(){S(t,"class","digits svelte-157obfn"),S(l,"class","container svelte-157obfn")},m(u,h){q(u,l,h),_(l,t);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(t,null);a=!0},p(u,[h]){h&1&&(o=oe(u[0]),Re(),s=$e(s,h,i,1,u,o,e,t,Ze,Be,null,Ne),He())},i(u){if(!a){for(let h=0;h<o.length;h+=1)ee(s[h]);a=!0}},o(u){for(let h=0;h<s.length;h+=1)ne(s[h]);a=!1},d(u){u&&y(l);for(let h=0;h<s.length;h+=1)s[h].d()}}}function it(n,l,t){let s,{value:e=0}=l;return n.$$set=a=>{"value"in a&&t(1,e=a.value)},n.$$.update=()=>{n.$$.dirty&2&&t(0,s=e.toString().padStart(3,"x").split("").map(a=>a==="x"?a:Number(a)))},[s,e]}class ot extends _e{constructor(l){super(),be(this,l,it,nt,he,{value:1})}}function Ce(n,l,t){const s=n.slice();return s[22]=l[t],s[24]=t,s}function rt(n){let l,t=n[24]+1+"",s;return{c(){l=E("span"),s=F(t),this.h()},l(e){l=A(e,"SPAN",{class:!0});var a=M(l);s=W(a,t),a.forEach(y),this.h()},h(){S(l,"class","unusedBucketText svelte-wbcupp")},m(e,a){q(e,l,a),_(l,s)},p:le,i:le,o:le,d(e){e&&y(l)}}}function ct(n){let l,t=n[22].value+"",s,e;return{c(){l=E("span"),s=F(t)},l(a){l=A(a,"SPAN",{});var o=M(l);s=W(o,t),o.forEach(y)},m(a,o){q(a,l,o),_(l,s)},p(a,o){o&2&&t!==(t=a[22].value+"")&&ae(s,t)},i(a){a&&(e||me(()=>{e=ze(l,Qe,{duration:100}),e.start()}))},o:le,d(a){a&&y(l)}}}function Pe(n){let l,t,s,e,a,o,i,u;function h(k,w){return k[22].value?ct:rt}let r=h(n),g=r(n);function I(){return n[11](n[24])}return{c(){l=E("div"),t=E("button"),g.c(),e=J(),a=E("div"),o=J(),this.h()},l(k){l=A(k,"DIV",{class:!0});var w=M(l);t=A(w,"BUTTON",{class:!0,type:!0});var H=M(t);g.l(H),H.forEach(y),e=Q(w),a=A(w,"DIV",{class:!0}),M(a).forEach(y),o=Q(w),w.forEach(y),this.h()},h(){S(t,"class","bucketButton svelte-wbcupp"),S(t,"type","button"),t.disabled=s=n[22].disabled,S(a,"class","underline svelte-wbcupp"),de(a,"disabled",n[22].disabled),S(l,"class","bucket svelte-wbcupp")},m(k,w){q(k,l,w),_(l,t),g.m(t,null),_(l,e),_(l,a),_(l,o),i||(u=ve(t,"click",I),i=!0)},p(k,w){n=k,r===(r=h(n))&&g?g.p(n,w):(g.d(1),g=r(n),g&&(g.c(),ee(g,1),g.m(t,null))),w&2&&s!==(s=n[22].disabled)&&(t.disabled=s),w&2&&de(a,"disabled",n[22].disabled)},d(k){k&&y(l),g.d(),i=!1,u()}}}function Me(n){let l,t,s="GAME OVER",e,a,o,i,u,h,r,g,I,k,w,H,L,V,X=n[10]("html")+"",P,O,x,Y="RETRY",T,N,c="SHARE",m,b,p,f;return{c(){l=E("div"),t=E("span"),t.textContent=s,a=J(),o=E("div"),i=E("p"),u=F("You placed "),h=F(n[3]),r=F(" out of "),g=F($),I=F(" tiles in "),k=F(n[4]),w=F("!"),H=J(),L=E("div"),V=new Ye(!1),P=J(),O=E("div"),x=E("button"),x.textContent=Y,T=J(),N=E("button"),N.textContent=c,this.h()},l(v){l=A(v,"DIV",{class:!0});var C=M(l);t=A(C,"SPAN",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1ey1o1x"&&(t.textContent=s),a=Q(C),o=A(C,"DIV",{class:!0});var U=M(o);i=A(U,"P",{class:!0});var D=M(i);u=W(D,"You placed "),h=W(D,n[3]),r=W(D," out of "),g=W(D,$),I=W(D," tiles in "),k=W(D,n[4]),w=W(D,"!"),D.forEach(y),H=Q(U),L=A(U,"DIV",{class:!0});var B=M(L);V=Ke(B,!1),B.forEach(y),U.forEach(y),P=Q(C),O=A(C,"DIV",{class:!0});var d=M(O);x=A(d,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),se(x)!=="svelte-7t9phd"&&(x.textContent=Y),T=Q(d),N=A(d,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),se(N)!=="svelte-149veyf"&&(N.textContent=c),d.forEach(y),C.forEach(y),this.h()},h(){S(t,"class","gameOverText svelte-wbcupp"),S(i,"class","svelte-wbcupp"),V.a=null,S(L,"class","boardDisplay svelte-wbcupp"),S(o,"class","statsArea svelte-wbcupp"),S(x,"class","playAgainButton svelte-wbcupp"),S(x,"type","button"),S(N,"class","shareButton svelte-wbcupp"),S(N,"type","button"),S(O,"class","buttonArea svelte-wbcupp"),S(l,"class","gameOverOverlay svelte-wbcupp")},m(v,C){q(v,l,C),_(l,t),_(l,a),_(l,o),_(o,i),_(i,u),_(i,h),_(i,r),_(i,g),_(i,I),_(i,k),_(i,w),_(o,H),_(o,L),V.m(X,L),_(l,P),_(l,O),_(O,x),_(O,T),_(O,N),b=!0,p||(f=[ve(x,"click",n[7]),ve(N,"click",n[9])],p=!0)},p(v,C){n=v,(!b||C&8)&&ae(h,n[3]),(!b||C&16)&&ae(k,n[4])},i(v){b||(v&&me(()=>{b&&(e||(e=fe(t,ke,{duration:ce,y:"-250px"},!0)),e.run(1))}),v&&me(()=>{b&&(m||(m=fe(l,Se,{duration:ce},!0)),m.run(1))}),b=!0)},o(v){v&&(e||(e=fe(t,ke,{duration:ce,y:"-250px"},!1)),e.run(0)),v&&(m||(m=fe(l,Se,{duration:ce},!1)),m.run(0)),b=!1},d(v){v&&y(l),v&&e&&e.end(),v&&m&&m.end(),p=!1,Ve(f)}}}function ut(n){let l,t,s,e=`<a href="${Je}/" class="backButton svelte-wbcupp">BACK</a>`,a,o,i,u,h,r,g,I="Time:",k,w=re(n[5])+"",H,L,V,X="Previous Best:",P,O=n[6].playerStats.highestScore+"",x,Y,T,N,c=re(n[6].playerStats.highestScoreTime)+"",m,b,p,f,v,C;u=new ot({props:{value:n[0]}});let U=oe(n[1]),D=[];for(let d=0;d<U.length;d+=1)D[d]=Pe(Ce(n,U,d));let B=n[2]&&Me(n);return{c(){l=E("meta"),t=J(),s=E("div"),s.innerHTML=e,a=J(),o=E("div"),i=E("div"),Fe(u.$$.fragment),h=J(),r=E("div"),g=E("p"),g.textContent=I,k=E("p"),H=F(w),L=J(),V=E("p"),V.textContent=X,P=E("p"),x=F(O),Y=F(" out of "),T=F($),N=F(" in "),m=F(c),b=J(),p=E("div");for(let d=0;d<D.length;d+=1)D[d].c();f=J(),B&&B.c(),v=ie(),this.h()},l(d){const R=je("svelte-1e93ikj",document.head);l=A(R,"META",{name:!0,content:!0}),R.forEach(y),t=Q(d),s=A(d,"DIV",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-196lbky"&&(s.innerHTML=e),a=Q(d),o=A(d,"DIV",{class:!0});var j=M(o);i=A(j,"DIV",{class:!0});var G=M(i);We(u.$$.fragment,G),G.forEach(y),h=Q(j),r=A(j,"DIV",{class:!0});var Z=M(r);g=A(Z,"P",{class:!0,"data-svelte-h":!0}),se(g)!=="svelte-16vailj"&&(g.textContent=I),k=A(Z,"P",{class:!0});var ge=M(k);H=W(ge,w),ge.forEach(y),L=Q(Z),V=A(Z,"P",{class:!0,"data-svelte-h":!0}),se(V)!=="svelte-e36n45"&&(V.textContent=X),P=A(Z,"P",{class:!0});var te=M(P);x=W(te,O),Y=W(te," out of "),T=W(te,$),N=W(te," in "),m=W(te,c),te.forEach(y),Z.forEach(y),b=Q(j),p=A(j,"DIV",{class:!0});var we=M(p);for(let pe=0;pe<D.length;pe+=1)D[pe].l(we);we.forEach(y),j.forEach(y),f=Q(d),B&&B.l(d),v=ie(),this.h()},h(){document.title="PlaceIt | Play",S(l,"name","description"),S(l,"content","Play PlaceIt a game about numbers and places."),S(s,"class","navigation svelte-wbcupp"),S(i,"class","rollArea"),S(g,"class","timeLabel svelte-wbcupp"),S(k,"class","svelte-wbcupp"),S(V,"class","timeLabel svelte-wbcupp"),S(P,"class","svelte-wbcupp"),S(r,"class","timeArea svelte-wbcupp"),S(p,"class","tableArea svelte-wbcupp"),S(o,"class","container svelte-wbcupp")},m(d,R){_(document.head,l),q(d,t,R),q(d,s,R),q(d,a,R),q(d,o,R),_(o,i),Ge(u,i,null),_(o,h),_(o,r),_(r,g),_(r,k),_(k,H),_(r,L),_(r,V),_(r,P),_(P,x),_(P,Y),_(P,T),_(P,N),_(P,m),_(o,b),_(o,p);for(let j=0;j<D.length;j+=1)D[j]&&D[j].m(p,null);q(d,f,R),B&&B.m(d,R),q(d,v,R),C=!0},p(d,[R]){const j={};if(R&1&&(j.value=d[0]),u.$set(j),(!C||R&32)&&w!==(w=re(d[5])+"")&&ae(H,w),(!C||R&64)&&O!==(O=d[6].playerStats.highestScore+"")&&ae(x,O),(!C||R&64)&&c!==(c=re(d[6].playerStats.highestScoreTime)+"")&&ae(m,c),R&258){U=oe(d[1]);let G;for(G=0;G<U.length;G+=1){const Z=Ce(d,U,G);D[G]?D[G].p(Z,R):(D[G]=Pe(Z),D[G].c(),D[G].m(p,null))}for(;G<D.length;G+=1)D[G].d(1);D.length=U.length}d[2]?B?(B.p(d,R),R&4&&ee(B,1)):(B=Me(d),B.c(),ee(B,1),B.m(v.parentNode,v)):B&&(Re(),ne(B,1,1,()=>{B=null}),He())},i(d){C||(ee(u.$$.fragment,d),ee(B),C=!0)},o(d){ne(u.$$.fragment,d),ne(B),C=!1},d(d){d&&(y(t),y(s),y(a),y(o),y(f),y(v)),y(l),qe(u),xe(D,d),B&&B.d(d)}}}const $=20,ft=1,Le=999,dt=1e3,ce=750,ht=10;function pt(n,l,t){let s,e;ye(n,Te,c=>t(17,s=c)),ye(n,z,c=>t(6,e=c));let a,o,i=new Array($).fill().map(()=>({disabled:!1,value:null})),u=!1,h=0,r,g,I,k,w,H;Oe(()=>{t(0,o=Le),setTimeout(()=>V(),100)}),Ue(()=>{window.cancelAnimationFrame(w)});function L(c){if(c<k+1e3/ht){w=requestAnimationFrame(L);return}k=c,t(5,H=c-r),w=window.requestAnimationFrame(L)}function V(){a=[];for(let c=ft;c<=Le;c++)a.push(c);t(1,i=new Array($).fill().map(()=>({disabled:!1,value:null}))),t(2,u=!1),setTimeout(()=>{r=window.performance.now(),k=r,w=window.requestAnimationFrame(L)},ce),g={},X()}function X(){const m=a.length-1,b=Math.floor(Math.random()*(m-0+1))+0,p=a[b];a.splice(b,1),t(0,o=p),O()}function P(c){t(1,i[c].value=o,i),t(1,i[c].disabled=!0,i),X(),x()}function O(){if(i.every(p=>p.value===null))return;const c=i.filter(p=>p.value!==null).map(p=>p.value);let m=NaN;for(const p of c)p<o&&(isNaN(m)||p>m)&&(m=p);let b=NaN;for(const p of c)p>o&&(isNaN(b)||p<b)&&(b=p);if(isNaN(m)&&!isNaN(b)){let p=i.findIndex(f=>f.value===b);for(let f=0;f<p;f++)i[f].value||t(1,i[f].disabled=!1,i);for(let f=p+1;f<i.length;f++)i[f].value||t(1,i[f].disabled=!0,i)}else if(!isNaN(m)&&isNaN(b)){let p=i.findIndex(f=>f.value===m);for(let f=p;f<i.length;f++)i[f].value||t(1,i[f].disabled=!1,i);for(let f=0;f<p;f++)i[f].value||t(1,i[f].disabled=!0,i)}else{let p=i.findIndex(v=>v.value===m),f=i.findIndex(v=>v.value===b);for(let v=0;v<p;v++)i[v].value||t(1,i[v].disabled=!0,i);for(let v=p;v<f;v++)i[v].value||t(1,i[v].disabled=!1,i);for(let v=f;v<i.length;v++)i[v].value||t(1,i[v].disabled=!0,i)}}async function x(){let c;if(i.every(m=>m.value!==null)?c="win":i.every(m=>m.disabled===!0)?c="lose":c="continue",c!=="continue"){g=window.performance.now(),cancelAnimationFrame(w);const m=g-r;t(4,I=re(m)),t(3,h=i.filter(f=>f.value!==null).length);const b=i.find(f=>f.value),p=i.toReversed().find(f=>f.value);K(z,e.playerStats.totalGames++,e),h>e.playerStats.highestScore?(K(z,e.playerStats.highestScore=h,e),K(z,e.playerStats.highestScoreTime=m,e)):h===e.playerStats.highestScore&&m<e.playerStats.highestScoreTime&&K(z,e.playerStats.highestScoreTime=m,e),p.value>e.playerStats.highestPlaced&&K(z,e.playerStats.highestPlaced=p.value,e),b.value<e.playerStats.lowestPlaced&&K(z,e.playerStats.lowestPlaced=b.value,e),c==="win"&&(K(z,e.playerStats.wonGames++,e),(e.playerStats.fastestWin===null||m<e.playerStats.fastestWin)&&K(z,e.playerStats.fastestWin=m,e),(e.playerStats.slowestWin===null||m>e.playerStats.slowestWin)&&K(z,e.playerStats.slowestWin=m,e),i[0].value>e.playerStats.highestFirstBucket&&K(z,e.playerStats.highestFirstBucket=i[0].value,e),i[$-1].value<e.playerStats.lowestLastBucket&&K(z,e.playerStats.lowestLastBucket=i[$-1].value,e)),await Xe(),setTimeout(()=>t(2,u=!0),dt)}}function Y(){const c=`I placed ${h} out of ${$} tiles in ${I} on PlaceIt!`,m=T();let b;i.every(f=>f.value!==null)?b="Can you do it faster? https://placeitgame.app":b="Can you place more? https://placeitgame.app";const p=`${c}

${m}

${b}`;navigator.clipboard.writeText(p),K(Te,s={level:"info",message:"COPIED TO CLIPBOARD"},s)}function T(c="text"){let b="",p,f,v;c==="html"?(f="&#x2B1B;",v="&#x1F7E9;",p="<br/>"):(f="⬛",v="🟩",p=`
`);for(const[C,U]of i.entries())U.value===null?b=b+f:b=b+v,(C+1)%5===0&&(b=b+p);return b.trim()}return[o,i,u,h,I,H,e,V,P,Y,T,c=>P(c)]}class kt extends _e{constructor(l){super(),be(this,l,pt,ut,he,{})}}export{kt as component};
