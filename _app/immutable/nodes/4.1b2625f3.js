import{F as Pe,s as he,e as ie,i as G,G as le,d as k,o as Me,f as x,g as E,h as C,j as S,k as ue,N as Le,l as F,m as H,B as de,C as _,a as J,I as Ge,c as Q,K as se,n as ne,J as ye,z as qe,u as ve,O as Ue,P as Ye,E as me,M as K}from"../chunks/scheduler.407f67a1.js";import{t as ae,a as ee,S as _e,i as ge,g as Ve,c as Oe,b as Re,d as Fe,m as He,e as We,f as fe,h as Ke}from"../chunks/index.e89b7c83.js";import{b as ze}from"../chunks/paths.379e7418.js";import{a as we,f as Se,s as Je}from"../chunks/index.1030b2d1.js";import{A as z,s as Qe}from"../chunks/AppData.725ebf90.js";import{A as Te}from"../chunks/Alert.39c2dfbf.js";import{f as re}from"../chunks/formatTime.5f24a19a.js";function oe(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function Xe(a,t){ae(a,1,1,()=>{t.delete(a.key)})}function Ze(a,t,s,l,e,n,o,i,u,d,r,b){let D=a.length,w=n.length,g=D;const R={};for(;g--;)R[a[g].key]=g;const P=[],M=new Map,X=new Map,j=[];for(g=w;g--;){const T=b(e,n,g),I=s(T);let c=o.get(I);c?l&&j.push(()=>c.p(T,t)):(c=d(I,T),c.c()),M.set(I,P[g]=c),I in R&&X.set(I,Math.abs(g-R[I]))}const L=new Set,V=new Set;function Y(T){ee(T,1),T.m(i,r),o.set(T.key,T),r=T.first,w--}for(;D&&w;){const T=P[w-1],I=a[D-1],c=T.key,v=I.key;T===I?(r=T.first,D--,w--):M.has(v)?!o.has(c)||L.has(c)?Y(T):V.has(v)?D--:X.get(c)>X.get(v)?(V.add(c),Y(T)):(L.add(v),D--):(u(I,o),D--)}for(;D--;){const T=a[D];M.has(T.key)||u(T,o)}for(;w;)Y(P[w-1]);return Pe(j),P}function xe(a,t,s){const l=a.slice();return l[7]=t[s],l}function Ee(a){let t,s=a[7]+"",l;return{c(){t=x("div"),l=F(s),this.h()},l(e){t=E(e,"DIV",{class:!0});var n=C(t);l=H(n,s),n.forEach(k),this.h()},h(){S(t,"class","digit svelte-tmlpoc"),de(t,"active",a[0]==="x"||a[7]===a[0])},m(e,n){G(e,t,n),_(t,l)},p(e,n){n&5&&de(t,"active",e[0]==="x"||e[7]===e[0])},d(e){e&&k(t)}}}function Ae(a){let t,s=oe(a[2]),l=[];for(let e=0;e<s.length;e+=1)l[e]=Ee(xe(a,s,e));return{c(){t=x("div");for(let e=0;e<l.length;e+=1)l[e].c();this.h()},l(e){t=E(e,"DIV",{class:!0,style:!0});var n=C(t);for(let o=0;o<l.length;o+=1)l[o].l(n);n.forEach(k),this.h()},h(){S(t,"class","container svelte-tmlpoc"),ue(t,"--line-height",a[1]+"px"),ue(t,"--offset",a[3](a[0])+"px")},m(e,n){G(e,t,n);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(t,null)},p(e,n){if(n&5){s=oe(e[2]);let o;for(o=0;o<s.length;o+=1){const i=xe(e,s,o);l[o]?l[o].p(i,n):(l[o]=Ee(i),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=s.length}n&2&&ue(t,"--line-height",e[1]+"px"),n&1&&ue(t,"--offset",e[3](e[0])+"px")},d(e){e&&k(t),Le(l,e)}}}function $e(a){let t=a[1],s,l=Ae(a);return{c(){l.c(),s=ie()},l(e){l.l(e),s=ie()},m(e,n){l.m(e,n),G(e,s,n)},p(e,[n]){n&2&&he(t,t=e[1])?(l.d(1),l=Ae(e),l.c(),l.m(s.parentNode,s)):l.p(e,n)},i:le,o:le,d(e){e&&k(s),l.d(e)}}}function et(a,t,s){let{number:l}=t,e=120;const n=["x",0,1,2,3,4,5,6,7,8,9];function o(r){return r==="x"?0:-(r+1)*e}Me(async()=>{const r=window.matchMedia("(min-width: 740px)"),b=window.matchMedia("(max-width: 740px)"),D=window.matchMedia("(max-width: 330px)");r.addEventListener("change",i),b.addEventListener("change",u),D.addEventListener("change",d)});function i(r){r.matches&&s(1,e=120)}function u(r){r.matches&&s(1,e=100)}function d(r){r.matches&&s(1,e=75)}return a.$$set=r=>{"number"in r&&s(0,l=r.number)},[l,e,n,o]}class tt extends _e{constructor(t){super(),ge(this,t,et,$e,he,{number:0})}}function Ie(a,t,s){const l=a.slice();return l[2]=t[s],l[4]=s,l}function De(a,t){let s,l,e;return l=new tt({props:{number:t[2]}}),{key:a,first:null,c(){s=ie(),Re(l.$$.fragment),this.h()},l(n){s=ie(),Fe(l.$$.fragment,n),this.h()},h(){this.first=s},m(n,o){G(n,s,o),He(l,n,o),e=!0},p(n,o){t=n;const i={};o&1&&(i.number=t[2]),l.$set(i)},i(n){e||(ee(l.$$.fragment,n),e=!0)},o(n){ae(l.$$.fragment,n),e=!1},d(n){n&&k(s),We(l,n)}}}function lt(a){let t,s,l=[],e=new Map,n,o=oe(a[0]);const i=u=>u[0].length-u[4];for(let u=0;u<o.length;u+=1){let d=Ie(a,o,u),r=i(d);e.set(r,l[u]=De(r,d))}return{c(){t=x("div"),s=x("div");for(let u=0;u<l.length;u+=1)l[u].c();this.h()},l(u){t=E(u,"DIV",{class:!0});var d=C(t);s=E(d,"DIV",{class:!0});var r=C(s);for(let b=0;b<l.length;b+=1)l[b].l(r);r.forEach(k),d.forEach(k),this.h()},h(){S(s,"class","digits svelte-157obfn"),S(t,"class","container svelte-157obfn")},m(u,d){G(u,t,d),_(t,s);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(s,null);n=!0},p(u,[d]){d&1&&(o=oe(u[0]),Ve(),l=Ze(l,d,i,1,u,o,e,s,Xe,De,null,Ie),Oe())},i(u){if(!n){for(let d=0;d<o.length;d+=1)ee(l[d]);n=!0}},o(u){for(let d=0;d<l.length;d+=1)ae(l[d]);n=!1},d(u){u&&k(t);for(let d=0;d<l.length;d+=1)l[d].d()}}}function st(a,t,s){let l,{value:e=0}=t;return a.$$set=n=>{"value"in n&&s(1,e=n.value)},a.$$.update=()=>{a.$$.dirty&2&&s(0,l=e.toString().padStart(3,"x").split("").map(n=>n==="x"?n:Number(n)))},[l,e]}class nt extends _e{constructor(t){super(),ge(this,t,st,lt,he,{value:1})}}function Ne(a,t,s){const l=a.slice();return l[22]=t[s],l[24]=s,l}function at(a){let t,s=a[24]+1+"",l;return{c(){t=x("span"),l=F(s),this.h()},l(e){t=E(e,"SPAN",{class:!0});var n=C(t);l=H(n,s),n.forEach(k),this.h()},h(){S(t,"class","unusedBucketText svelte-o8jsxk")},m(e,n){G(e,t,n),_(t,l)},p:le,i:le,o:le,d(e){e&&k(t)}}}function it(a){let t,s=a[22].value+"",l,e;return{c(){t=x("span"),l=F(s)},l(n){t=E(n,"SPAN",{});var o=C(t);l=H(o,s),o.forEach(k)},m(n,o){G(n,t,o),_(t,l)},p(n,o){o&2&&s!==(s=n[22].value+"")&&ne(l,s)},i(n){n&&(e||me(()=>{e=Ke(t,Je,{duration:100}),e.start()}))},o:le,d(n){n&&k(t)}}}function Be(a){let t,s,l,e,n,o,i,u;function d(w,g){return w[22].value?it:at}let r=d(a),b=r(a);function D(){return a[11](a[24])}return{c(){t=x("div"),s=x("button"),b.c(),e=J(),n=x("div"),o=J(),this.h()},l(w){t=E(w,"DIV",{class:!0});var g=C(t);s=E(g,"BUTTON",{class:!0,type:!0});var R=C(s);b.l(R),R.forEach(k),e=Q(g),n=E(g,"DIV",{class:!0}),C(n).forEach(k),o=Q(g),g.forEach(k),this.h()},h(){S(s,"class","bucketButton svelte-o8jsxk"),S(s,"type","button"),s.disabled=l=a[22].disabled,S(n,"class","underline svelte-o8jsxk"),de(n,"disabled",a[22].disabled),S(t,"class","bucket svelte-o8jsxk")},m(w,g){G(w,t,g),_(t,s),b.m(s,null),_(t,e),_(t,n),_(t,o),i||(u=ve(s,"click",D),i=!0)},p(w,g){a=w,r===(r=d(a))&&b?b.p(a,g):(b.d(1),b=r(a),b&&(b.c(),ee(b,1),b.m(s,null))),g&2&&l!==(l=a[22].disabled)&&(s.disabled=l),g&2&&de(n,"disabled",a[22].disabled)},d(w){w&&k(t),b.d(),i=!1,u()}}}function je(a){let t,s,l="GAME OVER",e,n,o,i,u,d,r,b,D,w,g,R,P,M,X=a[10]("html")+"",j,L,V,Y="RETRY",T,I,c="SHARE",v,y,h,m;return{c(){t=x("div"),s=x("span"),s.textContent=l,n=J(),o=x("div"),i=x("p"),u=F("You placed "),d=F(a[3]),r=F(" out of "),b=F($),D=F(" tiles in "),w=F(a[4]),g=F("!"),R=J(),P=x("div"),M=new Ue(!1),j=J(),L=x("div"),V=x("button"),V.textContent=Y,T=J(),I=x("button"),I.textContent=c,this.h()},l(p){t=E(p,"DIV",{class:!0});var B=C(t);s=E(B,"SPAN",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-1ey1o1x"&&(s.textContent=l),n=Q(B),o=E(B,"DIV",{class:!0});var U=C(o);i=E(U,"P",{class:!0});var A=C(i);u=H(A,"You placed "),d=H(A,a[3]),r=H(A," out of "),b=H(A,$),D=H(A," tiles in "),w=H(A,a[4]),g=H(A,"!"),A.forEach(k),R=Q(U),P=E(U,"DIV",{class:!0});var N=C(P);M=Ye(N,!1),N.forEach(k),U.forEach(k),j=Q(B),L=E(B,"DIV",{class:!0});var f=C(L);V=E(f,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),se(V)!=="svelte-7t9phd"&&(V.textContent=Y),T=Q(f),I=E(f,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),se(I)!=="svelte-149veyf"&&(I.textContent=c),f.forEach(k),B.forEach(k),this.h()},h(){S(s,"class","gameOverText svelte-o8jsxk"),S(i,"class","svelte-o8jsxk"),M.a=null,S(P,"class","boardDisplay svelte-o8jsxk"),S(o,"class","statsArea svelte-o8jsxk"),S(V,"class","playAgainButton svelte-o8jsxk"),S(V,"type","button"),S(I,"class","shareButton svelte-o8jsxk"),S(I,"type","button"),S(L,"class","buttonArea svelte-o8jsxk"),S(t,"class","gameOverOverlay svelte-o8jsxk")},m(p,B){G(p,t,B),_(t,s),_(t,n),_(t,o),_(o,i),_(i,u),_(i,d),_(i,r),_(i,b),_(i,D),_(i,w),_(i,g),_(o,R),_(o,P),M.m(X,P),_(t,j),_(t,L),_(L,V),_(L,T),_(L,I),y=!0,h||(m=[ve(V,"click",a[7]),ve(I,"click",a[9])],h=!0)},p(p,B){a=p,(!y||B&8)&&ne(d,a[3]),(!y||B&16)&&ne(w,a[4])},i(p){y||(p&&me(()=>{y&&(e||(e=fe(s,we,{duration:ce,y:"-250px"},!0)),e.run(1))}),p&&me(()=>{y&&(v||(v=fe(t,Se,{duration:ce},!0)),v.run(1))}),y=!0)},o(p){p&&(e||(e=fe(s,we,{duration:ce,y:"-250px"},!1)),e.run(0)),p&&(v||(v=fe(t,Se,{duration:ce},!1)),v.run(0)),y=!1},d(p){p&&k(t),p&&e&&e.end(),p&&v&&v.end(),h=!1,Pe(m)}}}function ot(a){let t,s,l,e=`<a href="${ze}/" class="backButton svelte-o8jsxk">BACK</a>`,n,o,i,u,d,r,b,D="Time:",w,g=re(a[5])+"",R,P,M,X="Previous Best:",j,L=a[6].playerStats.highestScore+"",V,Y,T,I,c=re(a[6].playerStats.highestScoreTime)+"",v,y,h,m,p,B;u=new nt({props:{value:a[0]}});let U=oe(a[1]),A=[];for(let f=0;f<U.length;f+=1)A[f]=Be(Ne(a,U,f));let N=a[2]&&je(a);return{c(){t=x("meta"),s=J(),l=x("div"),l.innerHTML=e,n=J(),o=x("div"),i=x("div"),Re(u.$$.fragment),d=J(),r=x("div"),b=x("p"),b.textContent=D,w=x("p"),R=F(g),P=J(),M=x("p"),M.textContent=X,j=x("p"),V=F(L),Y=F(" out of "),T=F($),I=F(" in "),v=F(c),y=J(),h=x("div");for(let f=0;f<A.length;f+=1)A[f].c();m=J(),N&&N.c(),p=ie(),this.h()},l(f){const O=Ge("svelte-knum68",document.head);t=E(O,"META",{name:!0,content:!0}),O.forEach(k),s=Q(f),l=E(f,"DIV",{class:!0,"data-svelte-h":!0}),se(l)!=="svelte-196lbky"&&(l.innerHTML=e),n=Q(f),o=E(f,"DIV",{class:!0});var q=C(o);i=E(q,"DIV",{class:!0});var W=C(i);Fe(u.$$.fragment,W),W.forEach(k),d=Q(q),r=E(q,"DIV",{class:!0});var Z=C(r);b=E(Z,"P",{class:!0,"data-svelte-h":!0}),se(b)!=="svelte-16vailj"&&(b.textContent=D),w=E(Z,"P",{class:!0});var ke=C(w);R=H(ke,g),ke.forEach(k),P=Q(Z),M=E(Z,"P",{class:!0,"data-svelte-h":!0}),se(M)!=="svelte-e36n45"&&(M.textContent=X),j=E(Z,"P",{class:!0});var te=C(j);V=H(te,L),Y=H(te," out of "),T=H(te,$),I=H(te," in "),v=H(te,c),te.forEach(k),Z.forEach(k),y=Q(q),h=E(q,"DIV",{class:!0});var be=C(h);for(let pe=0;pe<A.length;pe+=1)A[pe].l(be);be.forEach(k),q.forEach(k),m=Q(f),N&&N.l(f),p=ie(),this.h()},h(){document.title="PlaceIt | Play",S(t,"name","description"),S(t,"content","Play PlaceIt"),S(l,"class","navigation svelte-o8jsxk"),S(i,"class","rollArea"),S(b,"class","timeLabel svelte-o8jsxk"),S(w,"class","svelte-o8jsxk"),S(M,"class","timeLabel svelte-o8jsxk"),S(j,"class","svelte-o8jsxk"),S(r,"class","timeArea svelte-o8jsxk"),S(h,"class","tableArea svelte-o8jsxk"),S(o,"class","container svelte-o8jsxk")},m(f,O){_(document.head,t),G(f,s,O),G(f,l,O),G(f,n,O),G(f,o,O),_(o,i),He(u,i,null),_(o,d),_(o,r),_(r,b),_(r,w),_(w,R),_(r,P),_(r,M),_(r,j),_(j,V),_(j,Y),_(j,T),_(j,I),_(j,v),_(o,y),_(o,h);for(let q=0;q<A.length;q+=1)A[q]&&A[q].m(h,null);G(f,m,O),N&&N.m(f,O),G(f,p,O),B=!0},p(f,[O]){const q={};if(O&1&&(q.value=f[0]),u.$set(q),(!B||O&32)&&g!==(g=re(f[5])+"")&&ne(R,g),(!B||O&64)&&L!==(L=f[6].playerStats.highestScore+"")&&ne(V,L),(!B||O&64)&&c!==(c=re(f[6].playerStats.highestScoreTime)+"")&&ne(v,c),O&258){U=oe(f[1]);let W;for(W=0;W<U.length;W+=1){const Z=Ne(f,U,W);A[W]?A[W].p(Z,O):(A[W]=Be(Z),A[W].c(),A[W].m(h,null))}for(;W<A.length;W+=1)A[W].d(1);A.length=U.length}f[2]?N?(N.p(f,O),O&4&&ee(N,1)):(N=je(f),N.c(),ee(N,1),N.m(p.parentNode,p)):N&&(Ve(),ae(N,1,1,()=>{N=null}),Oe())},i(f){B||(ee(u.$$.fragment,f),ee(N),B=!0)},o(f){ae(u.$$.fragment,f),ae(N),B=!1},d(f){f&&(k(s),k(l),k(n),k(o),k(m),k(p)),k(t),We(u),Le(A,f),N&&N.d(f)}}}const $=20,rt=1,Ce=999,ct=1e3,ce=750,ut=10;function ft(a,t,s){let l,e;ye(a,Te,c=>s(17,l=c)),ye(a,z,c=>s(6,e=c));let n,o,i=new Array($).fill().map(()=>({disabled:!1,value:null})),u=!1,d=0,r,b,D,w,g,R;Me(()=>{s(0,o=Ce),setTimeout(()=>M(),100)}),qe(()=>{window.cancelAnimationFrame(g)});function P(c){if(c<w+1e3/ut){g=requestAnimationFrame(P);return}w=c,s(5,R=c-r),g=window.requestAnimationFrame(P)}function M(){n=[];for(let c=rt;c<=Ce;c++)n.push(c);s(1,i=new Array($).fill().map(()=>({disabled:!1,value:null}))),s(2,u=!1),setTimeout(()=>{r=window.performance.now(),w=r,g=window.requestAnimationFrame(P)},ce),b={},X()}function X(){const v=n.length-1,y=Math.floor(Math.random()*(v-0+1))+0,h=n[y];n.splice(y,1),s(0,o=h),L()}function j(c){s(1,i[c].value=o,i),s(1,i[c].disabled=!0,i),X(),V()}function L(){if(i.every(h=>h.value===null))return;const c=i.filter(h=>h.value!==null).map(h=>h.value);let v=NaN;for(const h of c)h<o&&(isNaN(v)||h>v)&&(v=h);let y=NaN;for(const h of c)h>o&&(isNaN(y)||h<y)&&(y=h);if(isNaN(v)&&!isNaN(y)){let h=i.findIndex(m=>m.value===y);for(let m=0;m<h;m++)i[m].value||s(1,i[m].disabled=!1,i);for(let m=h+1;m<i.length;m++)i[m].value||s(1,i[m].disabled=!0,i)}else if(!isNaN(v)&&isNaN(y)){let h=i.findIndex(m=>m.value===v);for(let m=h;m<i.length;m++)i[m].value||s(1,i[m].disabled=!1,i);for(let m=0;m<h;m++)i[m].value||s(1,i[m].disabled=!0,i)}else{let h=i.findIndex(p=>p.value===v),m=i.findIndex(p=>p.value===y);for(let p=0;p<h;p++)i[p].value||s(1,i[p].disabled=!0,i);for(let p=h;p<m;p++)i[p].value||s(1,i[p].disabled=!1,i);for(let p=m;p<i.length;p++)i[p].value||s(1,i[p].disabled=!0,i)}}async function V(){let c;if(i.every(v=>v.value!==null)?c="win":i.every(v=>v.disabled===!0)?c="lose":c="continue",c!=="continue"){b=window.performance.now(),cancelAnimationFrame(g);const v=b-r;s(4,D=re(v)),s(3,d=i.filter(m=>m.value!==null).length);const y=i.find(m=>m.value),h=i.toReversed().find(m=>m.value);K(z,e.playerStats.totalGames++,e),d>e.playerStats.highestScore?(K(z,e.playerStats.highestScore=d,e),K(z,e.playerStats.highestScoreTime=v,e)):d===e.playerStats.highestScore&&v<e.playerStats.highestScoreTime&&K(z,e.playerStats.highestScoreTime=v,e),h.value>e.playerStats.highestPlaced&&K(z,e.playerStats.highestPlaced=h.value,e),y.value<e.playerStats.lowestPlaced&&K(z,e.playerStats.lowestPlaced=y.value,e),c==="win"&&(K(z,e.playerStats.wonGames++,e),(e.playerStats.fastestWin===null||v<e.playerStats.fastestWin)&&K(z,e.playerStats.fastestWin=v,e),(e.playerStats.slowestWin===null||v>e.playerStats.slowestWin)&&K(z,e.playerStats.slowestWin=v,e),i[0].value>e.playerStats.highestFirstBucket&&K(z,e.playerStats.highestFirstBucket=i[0].value,e),i[$-1]<e.playerStats.lowestLastBucket&&K(z,e.playerStats.lowestLastBucket=i[$-1].value,e)),await Qe(),setTimeout(()=>s(2,u=!0),ct)}}function Y(){const c=`I placed ${d} out of ${$} tiles in ${D} on PlaceIt!`,v=T(),h=`${c}

${v}

Can you place more? https://placeitgame.app`;navigator.clipboard.writeText(h),K(Te,l={level:"info",message:"COPIED TO CLIPBOARD"},l)}function T(c="text"){let y="",h,m,p;c==="html"?(m="&#x2B1B;",p="&#x1F7E9;",h="<br/>"):(m="⬛",p="🟩",h=`
`);for(const[B,U]of i.entries())U.value===null?y=y+m:y=y+p,(B+1)%5===0&&(y=y+h);return y.trim()}return[o,i,u,d,D,R,e,M,j,Y,T,c=>j(c)]}class kt extends _e{constructor(t){super(),ge(this,t,ft,ot,he,{})}}export{kt as component};
