import{F as Ve,s as he,e as ie,i as q,G as le,d as y,o as Oe,f as E,g as A,h as M,j as S,k as ue,N as xe,l as R,m as W,B as de,C as _,a as J,I as je,c as Q,K as se,n as ae,J as ye,z as Ue,u as me,O as Ye,P as Ke,E as ve,M as K}from"../chunks/scheduler.FZOJ7GWa.js";import{t as ne,a as ee,S as _e,i as be,g as He,c as Fe,b as Re,d as We,m as Ge,e as qe,f as fe,h as ze}from"../chunks/index.Y9GCii0e.js";import{b as Je}from"../chunks/paths.7fZqtb3F.js";import{a as ke,f as Se,s as Qe}from"../chunks/index.eXGB0KTH.js";import{A as z,s as Xe}from"../chunks/AppData.UMjKFfdY.js";import{A as Te}from"../chunks/Alert.ICEGsLkj.js";import{f as oe}from"../chunks/formatTime.P0mepht4.js";function re(n){return n?.length!==void 0?n:Array.from(n)}function Ze(n,l){ne(n,1,1,()=>{l.delete(n.key)})}function $e(n,l,t,s,e,a,r,i,f,h,o,b){let D=n.length,k=a.length,g=D;const F={};for(;g--;)F[n[g].key]=g;const L=[],V=new Map,X=new Map,P=[];for(g=k;g--;){const T=b(e,a,g),B=t(T);let u=r.get(B);u?s&&P.push(()=>u.p(T,l)):(u=h(B,T),u.c()),V.set(B,L[g]=u),B in F&&X.set(B,Math.abs(g-F[B]))}const O=new Set,x=new Set;function Y(T){ee(T,1),T.m(i,o),r.set(T.key,T),o=T.first,k--}for(;D&&k;){const T=L[k-1],B=n[D-1],u=T.key,m=B.key;T===B?(o=T.first,D--,k--):V.has(m)?!r.has(u)||O.has(u)?Y(T):x.has(m)?D--:X.get(u)>X.get(m)?(x.add(u),Y(T)):(O.add(m),D--):(f(B,r),D--)}for(;D--;){const T=n[D];V.has(T.key)||f(T,r)}for(;k;)Y(L[k-1]);return Ve(P),L}function Ee(n,l,t){const s=n.slice();return s[7]=l[t],s}function Ae(n){let l,t=n[7]+"",s;return{c(){l=E("div"),s=R(t),this.h()},l(e){l=A(e,"DIV",{class:!0});var a=M(l);s=W(a,t),a.forEach(y),this.h()},h(){S(l,"class","digit svelte-ko37nb"),de(l,"active",n[0]==="x"||n[7]===n[0])},m(e,a){q(e,l,a),_(l,s)},p(e,a){a&5&&de(l,"active",e[0]==="x"||e[7]===e[0])},d(e){e&&y(l)}}}function Ie(n){let l,t=re(n[2]),s=[];for(let e=0;e<t.length;e+=1)s[e]=Ae(Ee(n,t,e));return{c(){l=E("div");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){l=A(e,"DIV",{class:!0,style:!0});var a=M(l);for(let r=0;r<s.length;r+=1)s[r].l(a);a.forEach(y),this.h()},h(){S(l,"class","container svelte-ko37nb"),ue(l,"--line-height",n[1]+"px"),ue(l,"--offset",n[3](n[0])+"px")},m(e,a){q(e,l,a);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(l,null)},p(e,a){if(a&5){t=re(e[2]);let r;for(r=0;r<t.length;r+=1){const i=Ee(e,t,r);s[r]?s[r].p(i,a):(s[r]=Ae(i),s[r].c(),s[r].m(l,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}a&2&&ue(l,"--line-height",e[1]+"px"),a&1&&ue(l,"--offset",e[3](e[0])+"px")},d(e){e&&y(l),xe(s,e)}}}function et(n){let l=n[1],t,s=Ie(n);return{c(){s.c(),t=ie()},l(e){s.l(e),t=ie()},m(e,a){s.m(e,a),q(e,t,a)},p(e,[a]){a&2&&he(l,l=e[1])?(s.d(1),s=Ie(e),s.c(),s.m(t.parentNode,t)):s.p(e,a)},i:le,o:le,d(e){e&&y(t),s.d(e)}}}const tt=120,lt=100,De=75;function st(n,l,t){let{number:s}=l,e=De;const a=["x",0,1,2,3,4,5,6,7,8,9];function r(o){return o==="x"?0:-(o+1)*e}Oe(async()=>{const o=window.matchMedia("(min-width: 740px)"),b=window.matchMedia("(max-width: 740px)"),D=window.matchMedia("(max-width: 330px)");o.addEventListener("change",i),b.addEventListener("change",f),D.addEventListener("change",h),D.matches?t(1,e=De):b.matches?t(1,e=lt):t(1,e=tt)});function i(o){o.matches&&t(1,e=120)}function f(o){o.matches&&t(1,e=100)}function h(o){o.matches&&t(1,e=75)}return n.$$set=o=>{"number"in o&&t(0,s=o.number)},[s,e,a,r]}class at extends _e{constructor(l){super(),be(this,l,st,et,he,{number:0})}}function Be(n,l,t){const s=n.slice();return s[2]=l[t],s[4]=t,s}function Ne(n,l){let t,s,e;return s=new at({props:{number:l[2]}}),{key:n,first:null,c(){t=ie(),Re(s.$$.fragment),this.h()},l(a){t=ie(),We(s.$$.fragment,a),this.h()},h(){this.first=t},m(a,r){q(a,t,r),Ge(s,a,r),e=!0},p(a,r){l=a;const i={};r&1&&(i.number=l[2]),s.$set(i)},i(a){e||(ee(s.$$.fragment,a),e=!0)},o(a){ne(s.$$.fragment,a),e=!1},d(a){a&&y(t),qe(s,a)}}}function nt(n){let l,t,s=[],e=new Map,a,r=re(n[0]);const i=f=>f[0].length-f[4];for(let f=0;f<r.length;f+=1){let h=Be(n,r,f),o=i(h);e.set(o,s[f]=Ne(o,h))}return{c(){l=E("div"),t=E("div");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){l=A(f,"DIV",{class:!0});var h=M(l);t=A(h,"DIV",{class:!0});var o=M(t);for(let b=0;b<s.length;b+=1)s[b].l(o);o.forEach(y),h.forEach(y),this.h()},h(){S(t,"class","digits svelte-157obfn"),S(l,"class","container svelte-157obfn")},m(f,h){q(f,l,h),_(l,t);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(t,null);a=!0},p(f,[h]){h&1&&(r=re(f[0]),He(),s=$e(s,h,i,1,f,r,e,t,Ze,Ne,null,Be),Fe())},i(f){if(!a){for(let h=0;h<r.length;h+=1)ee(s[h]);a=!0}},o(f){for(let h=0;h<s.length;h+=1)ne(s[h]);a=!1},d(f){f&&y(l);for(let h=0;h<s.length;h+=1)s[h].d()}}}function it(n,l,t){let s,{value:e=0}=l;return n.$$set=a=>{"value"in a&&t(1,e=a.value)},n.$$.update=()=>{n.$$.dirty&2&&t(0,s=e.toString().padStart(3,"x").split("").map(a=>a==="x"?a:Number(a)))},[s,e]}class rt extends _e{constructor(l){super(),be(this,l,it,nt,he,{value:1})}}function Ce(n,l,t){const s=n.slice();return s[22]=l[t],s[24]=t,s}function ot(n){let l,t=n[24]+1+"",s;return{c(){l=E("span"),s=R(t),this.h()},l(e){l=A(e,"SPAN",{class:!0});var a=M(l);s=W(a,t),a.forEach(y),this.h()},h(){S(l,"class","unusedBucketText svelte-wbcupp")},m(e,a){q(e,l,a),_(l,s)},p:le,i:le,o:le,d(e){e&&y(l)}}}function ct(n){let l,t=n[22].value+"",s,e;return{c(){l=E("span"),s=R(t)},l(a){l=A(a,"SPAN",{});var r=M(l);s=W(r,t),r.forEach(y)},m(a,r){q(a,l,r),_(l,s)},p(a,r){r&2&&t!==(t=a[22].value+"")&&ae(s,t)},i(a){a&&(e||ve(()=>{e=ze(l,Qe,{duration:100}),e.start()}))},o:le,d(a){a&&y(l)}}}function Pe(n){let l,t,s,e,a,r,i,f;function h(k,g){return k[22].value?ct:ot}let o=h(n),b=o(n);function D(){return n[11](n[24])}return{c(){l=E("div"),t=E("button"),b.c(),e=J(),a=E("div"),r=J(),this.h()},l(k){l=A(k,"DIV",{class:!0});var g=M(l);t=A(g,"BUTTON",{class:!0,type:!0});var F=M(t);b.l(F),F.forEach(y),e=Q(g),a=A(g,"DIV",{class:!0}),M(a).forEach(y),r=Q(g),g.forEach(y),this.h()},h(){S(t,"class","bucketButton svelte-wbcupp"),S(t,"type","button"),t.disabled=s=n[22].disabled,S(a,"class","underline svelte-wbcupp"),de(a,"disabled",n[22].disabled),S(l,"class","bucket svelte-wbcupp")},m(k,g){q(k,l,g),_(l,t),b.m(t,null),_(l,e),_(l,a),_(l,r),i||(f=me(t,"click",D),i=!0)},p(k,g){n=k,o===(o=h(n))&&b?b.p(n,g):(b.d(1),b=o(n),b&&(b.c(),ee(b,1),b.m(t,null))),g&2&&s!==(s=n[22].disabled)&&(t.disabled=s),g&2&&de(a,"disabled",n[22].disabled)},d(k){k&&y(l),b.d(),i=!1,f()}}}function Me(n){let l,t,s="GAME OVER",e,a,r,i,f,h,o,b,D,k,g,F,L,V,X=n[10]("html")+"",P,O,x,Y="RETRY",T,B,u="SHARE",m,w,p,v;return{c(){l=E("div"),t=E("span"),t.textContent=s,a=J(),r=E("div"),i=E("p"),f=R("You placed "),h=R(n[3]),o=R(" out of "),b=R($),D=R(" tiles in "),k=R(n[4]),g=R("!"),F=J(),L=E("div"),V=new Ye(!1),P=J(),O=E("div"),x=E("button"),x.textContent=Y,T=J(),B=E("button"),B.textContent=u,this.h()},l(c){l=A(c,"DIV",{class:!0});var C=M(l);t=A(C,"SPAN",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1ey1o1x"&&(t.textContent=s),a=Q(C),r=A(C,"DIV",{class:!0});var U=M(r);i=A(U,"P",{class:!0});var I=M(i);f=W(I,"You placed "),h=W(I,n[3]),o=W(I," out of "),b=W(I,$),D=W(I," tiles in "),k=W(I,n[4]),g=W(I,"!"),I.forEach(y),F=Q(U),L=A(U,"DIV",{class:!0});var N=M(L);V=Ke(N,!1),N.forEach(y),U.forEach(y),P=Q(C),O=A(C,"DIV",{class:!0});var d=M(O);x=A(d,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),se(x)!=="svelte-7t9phd"&&(x.textContent=Y),T=Q(d),B=A(d,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),se(B)!=="svelte-149veyf"&&(B.textContent=u),d.forEach(y),C.forEach(y),this.h()},h(){S(t,"class","gameOverText svelte-wbcupp"),S(i,"class","svelte-wbcupp"),V.a=null,S(L,"class","boardDisplay svelte-wbcupp"),S(r,"class","statsArea svelte-wbcupp"),S(x,"class","playAgainButton svelte-wbcupp"),S(x,"type","button"),S(B,"class","shareButton svelte-wbcupp"),S(B,"type","button"),S(O,"class","buttonArea svelte-wbcupp"),S(l,"class","gameOverOverlay svelte-wbcupp")},m(c,C){q(c,l,C),_(l,t),_(l,a),_(l,r),_(r,i),_(i,f),_(i,h),_(i,o),_(i,b),_(i,D),_(i,k),_(i,g),_(r,F),_(r,L),V.m(X,L),_(l,P),_(l,O),_(O,x),_(O,T),_(O,B),w=!0,p||(v=[me(x,"click",n[7]),me(B,"click",n[9])],p=!0)},p(c,C){n=c,(!w||C&8)&&ae(h,n[3]),(!w||C&16)&&ae(k,n[4])},i(c){w||(c&&ve(()=>{w&&(e||(e=fe(t,ke,{duration:ce,y:"-250px"},!0)),e.run(1))}),c&&ve(()=>{w&&(m||(m=fe(l,Se,{duration:ce},!0)),m.run(1))}),w=!0)},o(c){c&&(e||(e=fe(t,ke,{duration:ce,y:"-250px"},!1)),e.run(0)),c&&(m||(m=fe(l,Se,{duration:ce},!1)),m.run(0)),w=!1},d(c){c&&y(l),c&&e&&e.end(),c&&m&&m.end(),p=!1,Ve(v)}}}function ut(n){let l,t,s,e=`<a href="${Je}/" class="backButton svelte-wbcupp">BACK</a>`,a,r,i,f,h,o,b,D="Time:",k,g=oe(n[5])+"",F,L,V,X="Previous Best:",P,O=n[6].playerStats.highestScore+"",x,Y,T,B,u=oe(n[6].playerStats.highestScoreTime)+"",m,w,p,v,c,C;f=new rt({props:{value:n[0]}});let U=re(n[1]),I=[];for(let d=0;d<U.length;d+=1)I[d]=Pe(Ce(n,U,d));let N=n[2]&&Me(n);return{c(){l=E("meta"),t=J(),s=E("div"),s.innerHTML=e,a=J(),r=E("div"),i=E("div"),Re(f.$$.fragment),h=J(),o=E("div"),b=E("p"),b.textContent=D,k=E("p"),F=R(g),L=J(),V=E("p"),V.textContent=X,P=E("p"),x=R(O),Y=R(" out of "),T=R($),B=R(" in "),m=R(u),w=J(),p=E("div");for(let d=0;d<I.length;d+=1)I[d].c();v=J(),N&&N.c(),c=ie(),this.h()},l(d){const H=je("svelte-1e93ikj",document.head);l=A(H,"META",{name:!0,content:!0}),H.forEach(y),t=Q(d),s=A(d,"DIV",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-196lbky"&&(s.innerHTML=e),a=Q(d),r=A(d,"DIV",{class:!0});var j=M(r);i=A(j,"DIV",{class:!0});var G=M(i);We(f.$$.fragment,G),G.forEach(y),h=Q(j),o=A(j,"DIV",{class:!0});var Z=M(o);b=A(Z,"P",{class:!0,"data-svelte-h":!0}),se(b)!=="svelte-16vailj"&&(b.textContent=D),k=A(Z,"P",{class:!0});var ge=M(k);F=W(ge,g),ge.forEach(y),L=Q(Z),V=A(Z,"P",{class:!0,"data-svelte-h":!0}),se(V)!=="svelte-e36n45"&&(V.textContent=X),P=A(Z,"P",{class:!0});var te=M(P);x=W(te,O),Y=W(te," out of "),T=W(te,$),B=W(te," in "),m=W(te,u),te.forEach(y),Z.forEach(y),w=Q(j),p=A(j,"DIV",{class:!0});var we=M(p);for(let pe=0;pe<I.length;pe+=1)I[pe].l(we);we.forEach(y),j.forEach(y),v=Q(d),N&&N.l(d),c=ie(),this.h()},h(){document.title="PlaceIt | Play",S(l,"name","description"),S(l,"content","Play PlaceIt a game about numbers and places."),S(s,"class","navigation svelte-wbcupp"),S(i,"class","rollArea"),S(b,"class","timeLabel svelte-wbcupp"),S(k,"class","svelte-wbcupp"),S(V,"class","timeLabel svelte-wbcupp"),S(P,"class","svelte-wbcupp"),S(o,"class","timeArea svelte-wbcupp"),S(p,"class","tableArea svelte-wbcupp"),S(r,"class","container svelte-wbcupp")},m(d,H){_(document.head,l),q(d,t,H),q(d,s,H),q(d,a,H),q(d,r,H),_(r,i),Ge(f,i,null),_(r,h),_(r,o),_(o,b),_(o,k),_(k,F),_(o,L),_(o,V),_(o,P),_(P,x),_(P,Y),_(P,T),_(P,B),_(P,m),_(r,w),_(r,p);for(let j=0;j<I.length;j+=1)I[j]&&I[j].m(p,null);q(d,v,H),N&&N.m(d,H),q(d,c,H),C=!0},p(d,[H]){const j={};if(H&1&&(j.value=d[0]),f.$set(j),(!C||H&32)&&g!==(g=oe(d[5])+"")&&ae(F,g),(!C||H&64)&&O!==(O=d[6].playerStats.highestScore+"")&&ae(x,O),(!C||H&64)&&u!==(u=oe(d[6].playerStats.highestScoreTime)+"")&&ae(m,u),H&258){U=re(d[1]);let G;for(G=0;G<U.length;G+=1){const Z=Ce(d,U,G);I[G]?I[G].p(Z,H):(I[G]=Pe(Z),I[G].c(),I[G].m(p,null))}for(;G<I.length;G+=1)I[G].d(1);I.length=U.length}d[2]?N?(N.p(d,H),H&4&&ee(N,1)):(N=Me(d),N.c(),ee(N,1),N.m(c.parentNode,c)):N&&(He(),ne(N,1,1,()=>{N=null}),Fe())},i(d){C||(ee(f.$$.fragment,d),ee(N),C=!0)},o(d){ne(f.$$.fragment,d),ne(N),C=!1},d(d){d&&(y(t),y(s),y(a),y(r),y(v),y(c)),y(l),qe(f),xe(I,d),N&&N.d(d)}}}const $=20,ft=1,Le=999,dt=1e3,ce=750,ht=10;function pt(n,l,t){let s,e;ye(n,Te,u=>t(17,s=u)),ye(n,z,u=>t(6,e=u));let a,r,i=new Array($).fill().map(()=>({disabled:!1,value:null})),f=!1,h=0,o,b,D,k,g,F;Oe(()=>{t(0,r=Le),setTimeout(()=>V(),100)}),Ue(()=>{window.cancelAnimationFrame(g)});function L(u){if(u<k+1e3/ht){g=requestAnimationFrame(L);return}k=u,t(5,F=u-o),g=window.requestAnimationFrame(L)}function V(){a=[];for(let u=ft;u<=Le;u++)a.push(u);t(1,i=new Array($).fill().map(()=>({disabled:!1,value:null}))),t(2,f=!1),setTimeout(()=>{o=window.performance.now(),k=o,g=window.requestAnimationFrame(L)},ce),b={},X()}function X(){const m=a.length-1,w=Math.floor(Math.random()*(m-0+1))+0,p=a[w];a.splice(w,1),t(0,r=p),O()}function P(u){t(1,i[u].value=r,i),t(1,i[u].disabled=!0,i),X(),x()}function O(){if(i.every(p=>p.value===null))return;const u=i.filter(p=>p.value!==null).map(p=>p.value);let m=NaN;for(const p of u)p<r&&(isNaN(m)||p>m)&&(m=p);let w=NaN;for(const p of u)p>r&&(isNaN(w)||p<w)&&(w=p);if(isNaN(m)&&!isNaN(w)){let p=i.findIndex(v=>v.value===w);for(let v=0;v<p;v++)i[v].value||t(1,i[v].disabled=!1,i);for(let v=p+1;v<i.length;v++)i[v].value||t(1,i[v].disabled=!0,i)}else if(!isNaN(m)&&isNaN(w)){let p=i.findIndex(v=>v.value===m);for(let v=p;v<i.length;v++)i[v].value||t(1,i[v].disabled=!1,i);for(let v=0;v<p;v++)i[v].value||t(1,i[v].disabled=!0,i)}else{let p=i.findIndex(c=>c.value===m),v=i.findIndex(c=>c.value===w);for(let c=0;c<p;c++)i[c].value||t(1,i[c].disabled=!0,i);for(let c=p;c<v;c++)i[c].value||t(1,i[c].disabled=!1,i);for(let c=v;c<i.length;c++)i[c].value||t(1,i[c].disabled=!0,i)}}async function x(){let u;if(i.every(m=>m.value!==null)?u="win":i.every(m=>m.disabled===!0)?u="lose":u="continue",u!=="continue"){b=window.performance.now(),cancelAnimationFrame(g);const m=b-o;t(4,D=oe(m)),t(3,h=i.filter(c=>c.value!==null).length);const w=[...i].reverse(),p=i.find(c=>c.value),v=w.find(c=>c.value);K(z,e.playerStats.totalGames++,e),h>e.playerStats.highestScore?(K(z,e.playerStats.highestScore=h,e),K(z,e.playerStats.highestScoreTime=m,e)):h===e.playerStats.highestScore&&m<e.playerStats.highestScoreTime&&K(z,e.playerStats.highestScoreTime=m,e),v.value>e.playerStats.highestPlaced&&K(z,e.playerStats.highestPlaced=v.value,e),p.value<e.playerStats.lowestPlaced&&K(z,e.playerStats.lowestPlaced=p.value,e),u==="win"&&(K(z,e.playerStats.wonGames++,e),(e.playerStats.fastestWin===null||m<e.playerStats.fastestWin)&&K(z,e.playerStats.fastestWin=m,e),(e.playerStats.slowestWin===null||m>e.playerStats.slowestWin)&&K(z,e.playerStats.slowestWin=m,e),i[0].value>e.playerStats.highestFirstBucket&&K(z,e.playerStats.highestFirstBucket=i[0].value,e),i[$-1].value<e.playerStats.lowestLastBucket&&K(z,e.playerStats.lowestLastBucket=i[$-1].value,e)),await Xe(),setTimeout(()=>t(2,f=!0),dt)}}function Y(){const u=`I placed ${h} out of ${$} tiles in ${D} on PlaceIt!`,m=T();let w;i.every(v=>v.value!==null)?w="Can you do it faster? https://placeitgame.app":w="Can you place more? https://placeitgame.app";const p=`${u}

${m}

${w}`;navigator.clipboard.writeText(p),K(Te,s={level:"info",message:"COPIED TO CLIPBOARD"},s)}function T(u="text"){let w="",p,v,c;u==="html"?(v="&#x2B1B;",c="&#x1F7E9;",p="<br/>"):(v="⬛",c="🟩",p=`
`);for(const[C,U]of i.entries())U.value===null?w=w+v:w=w+c,(C+1)%5===0&&(w=w+p);return w.trim()}return[r,i,f,h,D,F,e,V,P,Y,T,u=>P(u)]}class kt extends _e{constructor(l){super(),be(this,l,pt,ut,he,{})}}export{kt as component};
