import{F as Me,s as he,e as ie,i as q,G as le,d as y,o as Le,f as x,g as E,h as P,j as S,k as ue,N as Ve,l as H,m as W,B as de,C as _,a as J,I as qe,c as Q,K as se,n as ne,J as we,z as je,u as me,O as Ue,P as Ye,E as pe,M as K}from"../chunks/scheduler.407f67a1.js";import{t as ae,a as ee,S as _e,i as ge,g as Oe,c as Re,b as Fe,d as He,m as We,e as Ge,f as fe,h as Ke}from"../chunks/index.e89b7c83.js";import{b as ze}from"../chunks/paths.e392fc65.js";import{a as ke,f as Se,s as Je}from"../chunks/index.1030b2d1.js";import{A as z,s as Qe}from"../chunks/AppData.725ebf90.js";import{A as Te}from"../chunks/Alert.39c2dfbf.js";import{f as oe}from"../chunks/formatTime.5f24a19a.js";function re(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function Xe(a,t){ae(a,1,1,()=>{t.delete(a.key)})}function Ze(a,t,s,l,e,n,r,i,u,h,o,w){let D=a.length,k=n.length,b=D;const F={};for(;b--;)F[a[b].key]=b;const M=[],L=new Map,X=new Map,C=[];for(b=k;b--;){const T=w(e,n,b),I=s(T);let c=r.get(I);c?l&&C.push(()=>c.p(T,t)):(c=h(I,T),c.c()),L.set(I,M[b]=c),I in F&&X.set(I,Math.abs(b-F[I]))}const V=new Set,O=new Set;function Y(T){ee(T,1),T.m(i,o),r.set(T.key,T),o=T.first,k--}for(;D&&k;){const T=M[k-1],I=a[D-1],c=T.key,p=I.key;T===I?(o=T.first,D--,k--):L.has(p)?!r.has(c)||V.has(c)?Y(T):O.has(p)?D--:X.get(c)>X.get(p)?(O.add(c),Y(T)):(V.add(p),D--):(u(I,r),D--)}for(;D--;){const T=a[D];L.has(T.key)||u(T,r)}for(;k;)Y(M[k-1]);return Me(C),M}function xe(a,t,s){const l=a.slice();return l[7]=t[s],l}function Ee(a){let t,s=a[7]+"",l;return{c(){t=x("div"),l=H(s),this.h()},l(e){t=E(e,"DIV",{class:!0});var n=P(t);l=W(n,s),n.forEach(y),this.h()},h(){S(t,"class","digit svelte-ko37nb"),de(t,"active",a[0]==="x"||a[7]===a[0])},m(e,n){q(e,t,n),_(t,l)},p(e,n){n&5&&de(t,"active",e[0]==="x"||e[7]===e[0])},d(e){e&&y(t)}}}function Ae(a){let t,s=re(a[2]),l=[];for(let e=0;e<s.length;e+=1)l[e]=Ee(xe(a,s,e));return{c(){t=x("div");for(let e=0;e<l.length;e+=1)l[e].c();this.h()},l(e){t=E(e,"DIV",{class:!0,style:!0});var n=P(t);for(let r=0;r<l.length;r+=1)l[r].l(n);n.forEach(y),this.h()},h(){S(t,"class","container svelte-ko37nb"),ue(t,"--line-height",a[1]+"px"),ue(t,"--offset",a[3](a[0])+"px")},m(e,n){q(e,t,n);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(t,null)},p(e,n){if(n&5){s=re(e[2]);let r;for(r=0;r<s.length;r+=1){const i=xe(e,s,r);l[r]?l[r].p(i,n):(l[r]=Ee(i),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}n&2&&ue(t,"--line-height",e[1]+"px"),n&1&&ue(t,"--offset",e[3](e[0])+"px")},d(e){e&&y(t),Ve(l,e)}}}function $e(a){let t=a[1],s,l=Ae(a);return{c(){l.c(),s=ie()},l(e){l.l(e),s=ie()},m(e,n){l.m(e,n),q(e,s,n)},p(e,[n]){n&2&&he(t,t=e[1])?(l.d(1),l=Ae(e),l.c(),l.m(s.parentNode,s)):l.p(e,n)},i:le,o:le,d(e){e&&y(s),l.d(e)}}}function et(a,t,s){let{number:l}=t,e=120;const n=["x",0,1,2,3,4,5,6,7,8,9];function r(o){return o==="x"?0:-(o+1)*e}Le(async()=>{const o=window.matchMedia("(min-width: 740px)"),w=window.matchMedia("(max-width: 740px)"),D=window.matchMedia("(max-width: 330px)");o.addEventListener("change",i),w.addEventListener("change",u),D.addEventListener("change",h)});function i(o){o.matches&&s(1,e=120)}function u(o){o.matches&&s(1,e=100)}function h(o){o.matches&&s(1,e=75)}return a.$$set=o=>{"number"in o&&s(0,l=o.number)},[l,e,n,r]}class tt extends _e{constructor(t){super(),ge(this,t,et,$e,he,{number:0})}}function Ie(a,t,s){const l=a.slice();return l[2]=t[s],l[4]=s,l}function De(a,t){let s,l,e;return l=new tt({props:{number:t[2]}}),{key:a,first:null,c(){s=ie(),Fe(l.$$.fragment),this.h()},l(n){s=ie(),He(l.$$.fragment,n),this.h()},h(){this.first=s},m(n,r){q(n,s,r),We(l,n,r),e=!0},p(n,r){t=n;const i={};r&1&&(i.number=t[2]),l.$set(i)},i(n){e||(ee(l.$$.fragment,n),e=!0)},o(n){ae(l.$$.fragment,n),e=!1},d(n){n&&y(s),Ge(l,n)}}}function lt(a){let t,s,l=[],e=new Map,n,r=re(a[0]);const i=u=>u[0].length-u[4];for(let u=0;u<r.length;u+=1){let h=Ie(a,r,u),o=i(h);e.set(o,l[u]=De(o,h))}return{c(){t=x("div"),s=x("div");for(let u=0;u<l.length;u+=1)l[u].c();this.h()},l(u){t=E(u,"DIV",{class:!0});var h=P(t);s=E(h,"DIV",{class:!0});var o=P(s);for(let w=0;w<l.length;w+=1)l[w].l(o);o.forEach(y),h.forEach(y),this.h()},h(){S(s,"class","digits svelte-157obfn"),S(t,"class","container svelte-157obfn")},m(u,h){q(u,t,h),_(t,s);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,null);n=!0},p(u,[h]){h&1&&(r=re(u[0]),Oe(),l=Ze(l,h,i,1,u,r,e,s,Xe,De,null,Ie),Re())},i(u){if(!n){for(let h=0;h<r.length;h+=1)ee(l[h]);n=!0}},o(u){for(let h=0;h<l.length;h+=1)ae(l[h]);n=!1},d(u){u&&y(t);for(let h=0;h<l.length;h+=1)l[h].d()}}}function st(a,t,s){let l,{value:e=0}=t;return a.$$set=n=>{"value"in n&&s(1,e=n.value)},a.$$.update=()=>{a.$$.dirty&2&&s(0,l=e.toString().padStart(3,"x").split("").map(n=>n==="x"?n:Number(n)))},[l,e]}class nt extends _e{constructor(t){super(),ge(this,t,st,lt,he,{value:1})}}function Ne(a,t,s){const l=a.slice();return l[22]=t[s],l[24]=s,l}function at(a){let t,s=a[24]+1+"",l;return{c(){t=x("span"),l=H(s),this.h()},l(e){t=E(e,"SPAN",{class:!0});var n=P(t);l=W(n,s),n.forEach(y),this.h()},h(){S(t,"class","unusedBucketText svelte-15xvn3m")},m(e,n){q(e,t,n),_(t,l)},p:le,i:le,o:le,d(e){e&&y(t)}}}function it(a){let t,s=a[22].value+"",l,e;return{c(){t=x("span"),l=H(s)},l(n){t=E(n,"SPAN",{});var r=P(t);l=W(r,s),r.forEach(y)},m(n,r){q(n,t,r),_(t,l)},p(n,r){r&2&&s!==(s=n[22].value+"")&&ne(l,s)},i(n){n&&(e||pe(()=>{e=Ke(t,Je,{duration:100}),e.start()}))},o:le,d(n){n&&y(t)}}}function Be(a){let t,s,l,e,n,r,i,u;function h(k,b){return k[22].value?it:at}let o=h(a),w=o(a);function D(){return a[11](a[24])}return{c(){t=x("div"),s=x("button"),w.c(),e=J(),n=x("div"),r=J(),this.h()},l(k){t=E(k,"DIV",{class:!0});var b=P(t);s=E(b,"BUTTON",{class:!0,type:!0});var F=P(s);w.l(F),F.forEach(y),e=Q(b),n=E(b,"DIV",{class:!0}),P(n).forEach(y),r=Q(b),b.forEach(y),this.h()},h(){S(s,"class","bucketButton svelte-15xvn3m"),S(s,"type","button"),s.disabled=l=a[22].disabled,S(n,"class","underline svelte-15xvn3m"),de(n,"disabled",a[22].disabled),S(t,"class","bucket svelte-15xvn3m")},m(k,b){q(k,t,b),_(t,s),w.m(s,null),_(t,e),_(t,n),_(t,r),i||(u=me(s,"click",D),i=!0)},p(k,b){a=k,o===(o=h(a))&&w?w.p(a,b):(w.d(1),w=o(a),w&&(w.c(),ee(w,1),w.m(s,null))),b&2&&l!==(l=a[22].disabled)&&(s.disabled=l),b&2&&de(n,"disabled",a[22].disabled)},d(k){k&&y(t),w.d(),i=!1,u()}}}function Ce(a){let t,s,l="GAME OVER",e,n,r,i,u,h,o,w,D,k,b,F,M,L,X=a[10]("html")+"",C,V,O,Y="RETRY",T,I,c="SHARE",p,g,v,f;return{c(){t=x("div"),s=x("span"),s.textContent=l,n=J(),r=x("div"),i=x("p"),u=H("You placed "),h=H(a[3]),o=H(" out of "),w=H($),D=H(" tiles in "),k=H(a[4]),b=H("!"),F=J(),M=x("div"),L=new Ue(!1),C=J(),V=x("div"),O=x("button"),O.textContent=Y,T=J(),I=x("button"),I.textContent=c,this.h()},l(m){t=E(m,"DIV",{class:!0});var B=P(t);s=E(B,"SPAN",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-1ey1o1x"&&(s.textContent=l),n=Q(B),r=E(B,"DIV",{class:!0});var U=P(r);i=E(U,"P",{class:!0});var A=P(i);u=W(A,"You placed "),h=W(A,a[3]),o=W(A," out of "),w=W(A,$),D=W(A," tiles in "),k=W(A,a[4]),b=W(A,"!"),A.forEach(y),F=Q(U),M=E(U,"DIV",{class:!0});var N=P(M);L=Ye(N,!1),N.forEach(y),U.forEach(y),C=Q(B),V=E(B,"DIV",{class:!0});var d=P(V);O=E(d,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),se(O)!=="svelte-7t9phd"&&(O.textContent=Y),T=Q(d),I=E(d,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),se(I)!=="svelte-149veyf"&&(I.textContent=c),d.forEach(y),B.forEach(y),this.h()},h(){S(s,"class","gameOverText svelte-15xvn3m"),S(i,"class","svelte-15xvn3m"),L.a=null,S(M,"class","boardDisplay svelte-15xvn3m"),S(r,"class","statsArea svelte-15xvn3m"),S(O,"class","playAgainButton svelte-15xvn3m"),S(O,"type","button"),S(I,"class","shareButton svelte-15xvn3m"),S(I,"type","button"),S(V,"class","buttonArea svelte-15xvn3m"),S(t,"class","gameOverOverlay svelte-15xvn3m")},m(m,B){q(m,t,B),_(t,s),_(t,n),_(t,r),_(r,i),_(i,u),_(i,h),_(i,o),_(i,w),_(i,D),_(i,k),_(i,b),_(r,F),_(r,M),L.m(X,M),_(t,C),_(t,V),_(V,O),_(V,T),_(V,I),g=!0,v||(f=[me(O,"click",a[7]),me(I,"click",a[9])],v=!0)},p(m,B){a=m,(!g||B&8)&&ne(h,a[3]),(!g||B&16)&&ne(k,a[4])},i(m){g||(m&&pe(()=>{g&&(e||(e=fe(s,ke,{duration:ce,y:"-250px"},!0)),e.run(1))}),m&&pe(()=>{g&&(p||(p=fe(t,Se,{duration:ce},!0)),p.run(1))}),g=!0)},o(m){m&&(e||(e=fe(s,ke,{duration:ce,y:"-250px"},!1)),e.run(0)),m&&(p||(p=fe(t,Se,{duration:ce},!1)),p.run(0)),g=!1},d(m){m&&y(t),m&&e&&e.end(),m&&p&&p.end(),v=!1,Me(f)}}}function rt(a){let t,s,l,e=`<a href="${ze}/" class="backButton svelte-15xvn3m">BACK</a>`,n,r,i,u,h,o,w,D="Time:",k,b=oe(a[5])+"",F,M,L,X="Previous Best:",C,V=a[6].playerStats.highestScore+"",O,Y,T,I,c=oe(a[6].playerStats.highestScoreTime)+"",p,g,v,f,m,B;u=new nt({props:{value:a[0]}});let U=re(a[1]),A=[];for(let d=0;d<U.length;d+=1)A[d]=Be(Ne(a,U,d));let N=a[2]&&Ce(a);return{c(){t=x("meta"),s=J(),l=x("div"),l.innerHTML=e,n=J(),r=x("div"),i=x("div"),Fe(u.$$.fragment),h=J(),o=x("div"),w=x("p"),w.textContent=D,k=x("p"),F=H(b),M=J(),L=x("p"),L.textContent=X,C=x("p"),O=H(V),Y=H(" out of "),T=H($),I=H(" in "),p=H(c),g=J(),v=x("div");for(let d=0;d<A.length;d+=1)A[d].c();f=J(),N&&N.c(),m=ie(),this.h()},l(d){const R=qe("svelte-1e93ikj",document.head);t=E(R,"META",{name:!0,content:!0}),R.forEach(y),s=Q(d),l=E(d,"DIV",{class:!0,"data-svelte-h":!0}),se(l)!=="svelte-196lbky"&&(l.innerHTML=e),n=Q(d),r=E(d,"DIV",{class:!0});var j=P(r);i=E(j,"DIV",{class:!0});var G=P(i);He(u.$$.fragment,G),G.forEach(y),h=Q(j),o=E(j,"DIV",{class:!0});var Z=P(o);w=E(Z,"P",{class:!0,"data-svelte-h":!0}),se(w)!=="svelte-16vailj"&&(w.textContent=D),k=E(Z,"P",{class:!0});var be=P(k);F=W(be,b),be.forEach(y),M=Q(Z),L=E(Z,"P",{class:!0,"data-svelte-h":!0}),se(L)!=="svelte-e36n45"&&(L.textContent=X),C=E(Z,"P",{class:!0});var te=P(C);O=W(te,V),Y=W(te," out of "),T=W(te,$),I=W(te," in "),p=W(te,c),te.forEach(y),Z.forEach(y),g=Q(j),v=E(j,"DIV",{class:!0});var ye=P(v);for(let ve=0;ve<A.length;ve+=1)A[ve].l(ye);ye.forEach(y),j.forEach(y),f=Q(d),N&&N.l(d),m=ie(),this.h()},h(){document.title="PlaceIt | Play",S(t,"name","description"),S(t,"content","Play PlaceIt a game about numbers and places."),S(l,"class","navigation svelte-15xvn3m"),S(i,"class","rollArea"),S(w,"class","timeLabel svelte-15xvn3m"),S(k,"class","svelte-15xvn3m"),S(L,"class","timeLabel svelte-15xvn3m"),S(C,"class","svelte-15xvn3m"),S(o,"class","timeArea svelte-15xvn3m"),S(v,"class","tableArea svelte-15xvn3m"),S(r,"class","container svelte-15xvn3m")},m(d,R){_(document.head,t),q(d,s,R),q(d,l,R),q(d,n,R),q(d,r,R),_(r,i),We(u,i,null),_(r,h),_(r,o),_(o,w),_(o,k),_(k,F),_(o,M),_(o,L),_(o,C),_(C,O),_(C,Y),_(C,T),_(C,I),_(C,p),_(r,g),_(r,v);for(let j=0;j<A.length;j+=1)A[j]&&A[j].m(v,null);q(d,f,R),N&&N.m(d,R),q(d,m,R),B=!0},p(d,[R]){const j={};if(R&1&&(j.value=d[0]),u.$set(j),(!B||R&32)&&b!==(b=oe(d[5])+"")&&ne(F,b),(!B||R&64)&&V!==(V=d[6].playerStats.highestScore+"")&&ne(O,V),(!B||R&64)&&c!==(c=oe(d[6].playerStats.highestScoreTime)+"")&&ne(p,c),R&258){U=re(d[1]);let G;for(G=0;G<U.length;G+=1){const Z=Ne(d,U,G);A[G]?A[G].p(Z,R):(A[G]=Be(Z),A[G].c(),A[G].m(v,null))}for(;G<A.length;G+=1)A[G].d(1);A.length=U.length}d[2]?N?(N.p(d,R),R&4&&ee(N,1)):(N=Ce(d),N.c(),ee(N,1),N.m(m.parentNode,m)):N&&(Oe(),ae(N,1,1,()=>{N=null}),Re())},i(d){B||(ee(u.$$.fragment,d),ee(N),B=!0)},o(d){ae(u.$$.fragment,d),ae(N),B=!1},d(d){d&&(y(s),y(l),y(n),y(r),y(f),y(m)),y(t),Ge(u),Ve(A,d),N&&N.d(d)}}}const $=20,ot=1,Pe=999,ct=1e3,ce=750,ut=10;function ft(a,t,s){let l,e;we(a,Te,c=>s(17,l=c)),we(a,z,c=>s(6,e=c));let n,r,i=new Array($).fill().map(()=>({disabled:!1,value:null})),u=!1,h=0,o,w,D,k,b,F;Le(()=>{s(0,r=Pe),setTimeout(()=>L(),100)}),je(()=>{window.cancelAnimationFrame(b)});function M(c){if(c<k+1e3/ut){b=requestAnimationFrame(M);return}k=c,s(5,F=c-o),b=window.requestAnimationFrame(M)}function L(){n=[];for(let c=ot;c<=Pe;c++)n.push(c);s(1,i=new Array($).fill().map(()=>({disabled:!1,value:null}))),s(2,u=!1),setTimeout(()=>{o=window.performance.now(),k=o,b=window.requestAnimationFrame(M)},ce),w={},X()}function X(){const p=n.length-1,g=Math.floor(Math.random()*(p-0+1))+0,v=n[g];n.splice(g,1),s(0,r=v),V()}function C(c){s(1,i[c].value=r,i),s(1,i[c].disabled=!0,i),X(),O()}function V(){if(i.every(v=>v.value===null))return;const c=i.filter(v=>v.value!==null).map(v=>v.value);let p=NaN;for(const v of c)v<r&&(isNaN(p)||v>p)&&(p=v);let g=NaN;for(const v of c)v>r&&(isNaN(g)||v<g)&&(g=v);if(isNaN(p)&&!isNaN(g)){let v=i.findIndex(f=>f.value===g);for(let f=0;f<v;f++)i[f].value||s(1,i[f].disabled=!1,i);for(let f=v+1;f<i.length;f++)i[f].value||s(1,i[f].disabled=!0,i)}else if(!isNaN(p)&&isNaN(g)){let v=i.findIndex(f=>f.value===p);for(let f=v;f<i.length;f++)i[f].value||s(1,i[f].disabled=!1,i);for(let f=0;f<v;f++)i[f].value||s(1,i[f].disabled=!0,i)}else{let v=i.findIndex(m=>m.value===p),f=i.findIndex(m=>m.value===g);for(let m=0;m<v;m++)i[m].value||s(1,i[m].disabled=!0,i);for(let m=v;m<f;m++)i[m].value||s(1,i[m].disabled=!1,i);for(let m=f;m<i.length;m++)i[m].value||s(1,i[m].disabled=!0,i)}}async function O(){let c;if(i.every(p=>p.value!==null)?c="win":i.every(p=>p.disabled===!0)?c="lose":c="continue",c!=="continue"){w=window.performance.now(),cancelAnimationFrame(b);const p=w-o;s(4,D=oe(p)),s(3,h=i.filter(f=>f.value!==null).length);const g=i.find(f=>f.value),v=i.toReversed().find(f=>f.value);K(z,e.playerStats.totalGames++,e),h>e.playerStats.highestScore?(K(z,e.playerStats.highestScore=h,e),K(z,e.playerStats.highestScoreTime=p,e)):h===e.playerStats.highestScore&&p<e.playerStats.highestScoreTime&&K(z,e.playerStats.highestScoreTime=p,e),v.value>e.playerStats.highestPlaced&&K(z,e.playerStats.highestPlaced=v.value,e),g.value<e.playerStats.lowestPlaced&&K(z,e.playerStats.lowestPlaced=g.value,e),c==="win"&&(K(z,e.playerStats.wonGames++,e),(e.playerStats.fastestWin===null||p<e.playerStats.fastestWin)&&K(z,e.playerStats.fastestWin=p,e),(e.playerStats.slowestWin===null||p>e.playerStats.slowestWin)&&K(z,e.playerStats.slowestWin=p,e),i[0].value>e.playerStats.highestFirstBucket&&K(z,e.playerStats.highestFirstBucket=i[0].value,e),i[$-1]<e.playerStats.lowestLastBucket&&K(z,e.playerStats.lowestLastBucket=i[$-1].value,e)),await Qe(),setTimeout(()=>s(2,u=!0),ct)}}function Y(){const c=`I placed ${h} out of ${$} tiles in ${D} on PlaceIt!`,p=T();let g;i.every(f=>f.value!==null)?g="Can you do it faster? https://placeitgame.app":g="Can you place more? https://placeitgame.app";const v=`${c}

${p}

${g}`;navigator.clipboard.writeText(v),K(Te,l={level:"info",message:"COPIED TO CLIPBOARD"},l)}function T(c="text"){let g="",v,f,m;c==="html"?(f="&#x2B1B;",m="&#x1F7E9;",v="<br/>"):(f="⬛",m="🟩",v=`
`);for(const[B,U]of i.entries())U.value===null?g=g+f:g=g+m,(B+1)%5===0&&(g=g+v);return g.trim()}return[r,i,u,h,D,F,e,L,C,Y,T,c=>C(c)]}class bt extends _e{constructor(t){super(),ge(this,t,ft,rt,he,{})}}export{bt as component};
