import{F as Ze,s as Se,e as ke,i as O,G as he,d as m,f as S,g as T,h as N,j as w,k as de,M as $e,l as M,m as P,B as x,C as f,a as q,J as ie,c as U,u as Ve,n as fe,I as it,o as ot,z as rt,L as G,E as ut}from"../chunks/scheduler.9657a15e.js";import{t as Te,a as _e,S as Me,i as Pe,g as ct,c as ft,b as et,d as tt,m as lt,e as st,h as dt}from"../chunks/index.ab4fc0a5.js";import{b as ht}from"../chunks/paths.41d26f74.js";import{s as vt}from"../chunks/index.a7cb4865.js";import{A as W,s as pt}from"../chunks/AppData.a45e10bb.js";function ve(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function mt(i,s){Te(i,1,1,()=>{s.delete(i.key)})}function _t(i,s,l,e,n,a,t,C,o,c,b,g){let E=i.length,h=a.length,y=E;const I={};for(;y--;)I[i[y].key]=y;const Y=[],z=new Map,F=new Map,J=[];for(y=h;y--;){const A=g(n,a,y),B=l(A);let L=t.get(B);L?e&&J.push(()=>L.p(A,s)):(L=c(B,A),L.c()),z.set(B,Y[y]=L),B in I&&F.set(B,Math.abs(y-I[B]))}const X=new Set,le=new Set;function Z(A){_e(A,1),A.m(C,b),t.set(A.key,A),b=A.first,h--}for(;E&&h;){const A=Y[h-1],B=i[E-1],L=A.key,d=B.key;A===B?(b=A.first,E--,h--):z.has(d)?!t.has(L)||X.has(L)?Z(A):le.has(d)?E--:F.get(L)>F.get(d)?(le.add(L),Z(A)):(X.add(d),E--):(o(B,t),E--)}for(;E--;){const A=i[E];z.has(A.key)||o(A,t)}for(;h;)Z(Y[h-1]);return Ze(J),Y}function Ge(i,s,l){const e=i.slice();return e[10]=s[l],e}function qe(i){let s,l=i[10]+"",e;return{c(){s=S("div"),e=M(l),this.h()},l(n){s=T(n,"DIV",{class:!0});var a=N(s);e=P(a,l),a.forEach(m),this.h()},h(){w(s,"class","digit svelte-tmlpoc"),x(s,"active",i[0]==="x"||i[10]===i[0])},m(n,a){O(n,s,a),f(s,e)},p(n,a){a&5&&x(s,"active",n[0]==="x"||n[10]===n[0])},d(n){n&&m(s)}}}function Ue(i){let s,l=ve(i[2]),e=[];for(let n=0;n<l.length;n+=1)e[n]=qe(Ge(i,l,n));return{c(){s=S("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){s=T(n,"DIV",{class:!0,style:!0});var a=N(s);for(let t=0;t<e.length;t+=1)e[t].l(a);a.forEach(m),this.h()},h(){w(s,"class","container svelte-tmlpoc"),de(s,"--line-height",i[1]+"px"),de(s,"--offset",i[3](i[0])+"px")},m(n,a){O(n,s,a);for(let t=0;t<e.length;t+=1)e[t]&&e[t].m(s,null)},p(n,a){if(a&5){l=ve(n[2]);let t;for(t=0;t<l.length;t+=1){const C=Ge(n,l,t);e[t]?e[t].p(C,a):(e[t]=qe(C),e[t].c(),e[t].m(s,null))}for(;t<e.length;t+=1)e[t].d(1);e.length=l.length}a&2&&de(s,"--line-height",n[1]+"px"),a&1&&de(s,"--offset",n[3](n[0])+"px")},d(n){n&&m(s),$e(e,n)}}}function gt(i){let s=i[1],l,e=Ue(i);return{c(){e.c(),l=ke()},l(n){e.l(n),l=ke()},m(n,a){e.m(n,a),O(n,l,a)},p(n,[a]){a&2&&Se(s,s=n[1])?(e.d(1),e=Ue(n),e.c(),e.m(l.parentNode,l)):e.p(n,a)},i:he,o:he,d(n){n&&m(l),e.d(n)}}}function bt(i,s,l){let{number:e}=s,n=120;const a=["x",0,1,2,3,4,5,6,7,8,9];function t(h){return h==="x"?0:-(h+1)*n}const C=window.matchMedia("(min-width: 740px)"),o=window.matchMedia("(max-width: 740px)"),c=window.matchMedia("(max-width: 330px)");C.addEventListener("change",b),o.addEventListener("change",g),c.addEventListener("change",E);function b(h){h.matches&&l(1,n=120)}function g(h){h.matches&&l(1,n=100)}function E(h){h.matches&&l(1,n=75)}return i.$$set=h=>{"number"in h&&l(0,e=h.number)},[e,n,a,t]}class yt extends Me{constructor(s){super(),Pe(this,s,bt,gt,Se,{number:0})}}function Ye(i,s,l){const e=i.slice();return e[2]=s[l],e[4]=l,e}function Je(i,s){let l,e,n;return e=new yt({props:{number:s[2]}}),{key:i,first:null,c(){l=ke(),et(e.$$.fragment),this.h()},l(a){l=ke(),tt(e.$$.fragment,a),this.h()},h(){this.first=l},m(a,t){O(a,l,t),lt(e,a,t),n=!0},p(a,t){s=a;const C={};t&1&&(C.number=s[2]),e.$set(C)},i(a){n||(_e(e.$$.fragment,a),n=!0)},o(a){Te(e.$$.fragment,a),n=!1},d(a){a&&m(l),st(e,a)}}}function wt(i){let s,l,e=[],n=new Map,a,t=ve(i[0]);const C=o=>o[0].length-o[4];for(let o=0;o<t.length;o+=1){let c=Ye(i,t,o),b=C(c);n.set(b,e[o]=Je(b,c))}return{c(){s=S("div"),l=S("div");for(let o=0;o<e.length;o+=1)e[o].c();this.h()},l(o){s=T(o,"DIV",{class:!0});var c=N(s);l=T(c,"DIV",{class:!0});var b=N(l);for(let g=0;g<e.length;g+=1)e[g].l(b);b.forEach(m),c.forEach(m),this.h()},h(){w(l,"class","digits svelte-157obfn"),w(s,"class","container svelte-157obfn")},m(o,c){O(o,s,c),f(s,l);for(let b=0;b<e.length;b+=1)e[b]&&e[b].m(l,null);a=!0},p(o,[c]){c&1&&(t=ve(o[0]),ct(),e=_t(e,c,C,1,o,t,n,l,mt,Je,null,Ye),ft())},i(o){if(!a){for(let c=0;c<t.length;c+=1)_e(e[c]);a=!0}},o(o){for(let c=0;c<e.length;c+=1)Te(e[c]);a=!1},d(o){o&&m(s);for(let c=0;c<e.length;c+=1)e[c].d()}}}function kt(i,s,l){let e,{value:n=0}=s;return i.$$set=a=>{"value"in a&&l(1,n=a.value)},i.$$.update=()=>{i.$$.dirty&2&&l(0,e=n.toString().padStart(3,"x").split("").map(a=>a==="x"?a:Number(a)))},[e,n]}class St extends Me{constructor(s){super(),Pe(this,s,kt,wt,Se,{value:1})}}function Ke(i,s,l){const e=i.slice();return e[23]=s[l],e[25]=l,e}function Tt(i){let s,l=i[25]+1+"",e;return{c(){s=S("span"),e=M(l),this.h()},l(n){s=T(n,"SPAN",{class:!0});var a=N(s);e=P(a,l),a.forEach(m),this.h()},h(){w(s,"class","unusedBucketText svelte-uoj29z")},m(n,a){O(n,s,a),f(s,e)},p:he,i:he,o:he,d(n){n&&m(s)}}}function At(i){let s,l=i[23].value+"",e,n;return{c(){s=S("span"),e=M(l)},l(a){s=T(a,"SPAN",{});var t=N(s);e=P(t,l),t.forEach(m)},m(a,t){O(a,s,t),f(s,e)},p(a,t){t&2&&l!==(l=a[23].value+"")&&fe(e,l)},i(a){a&&(n||ut(()=>{n=dt(s,vt,{duration:100}),n.start()}))},o:he,d(a){a&&m(s)}}}function Qe(i){let s,l,e,n,a,t,C,o;function c(h,y){return h[23].value?At:Tt}let b=c(i),g=b(i);function E(){return i[12](i[25])}return{c(){s=S("div"),l=S("button"),g.c(),n=q(),a=S("div"),t=q(),this.h()},l(h){s=T(h,"DIV",{class:!0});var y=N(s);l=T(y,"BUTTON",{class:!0,type:!0});var I=N(l);g.l(I),I.forEach(m),n=U(y),a=T(y,"DIV",{class:!0}),N(a).forEach(m),t=U(y),y.forEach(m),this.h()},h(){w(l,"class","bucketButton svelte-uoj29z"),w(l,"type","button"),l.disabled=e=i[23].disabled,w(a,"class","underline svelte-uoj29z"),x(a,"disabled",i[23].disabled),w(s,"class","bucket svelte-uoj29z")},m(h,y){O(h,s,y),f(s,l),g.m(l,null),f(s,n),f(s,a),f(s,t),C||(o=Ve(l,"click",E),C=!0)},p(h,y){i=h,b===(b=c(i))&&g?g.p(i,y):(g.d(1),g=b(i),g&&(g.c(),_e(g,1),g.m(l,null))),y&2&&e!==(e=i[23].disabled)&&(l.disabled=e),y&2&&x(a,"disabled",i[23].disabled)},d(h){h&&m(s),g.d(),C=!1,o()}}}function Ct(i){let s,l=`<a href="${ht}/" class="backButton svelte-uoj29z">BACK</a>`,e,n,a,t,C,o,c,b="Time:",g,E=me(i[7])+"",h,y,I,Y="Previous Best:",z,F=i[8].playerStats.highestScore+"",J,X,le,Z,A=me(i[8].playerStats.highestScoreTime)+"",B,L,d,v,_,u,p="GAME OVER",D,oe,H,Ae,ge,Ce,Ee,De,be,Ie,Ne,se,$,Le="RETRY",je,ee,Oe="SHARE",ye,K,ae,Re="COPIED TO CLIPBOARD!",R,ze,xe;t=new St({props:{value:i[0]}});let re=ve(i[1]),V=[];for(let r=0;r<re.length;r+=1)V[r]=Qe(Ke(i,re,r));return{c(){s=S("div"),s.innerHTML=l,e=q(),n=S("div"),a=S("div"),et(t.$$.fragment),C=q(),o=S("div"),c=S("p"),c.textContent=b,g=S("p"),h=M(E),y=q(),I=S("p"),I.textContent=Y,z=S("p"),J=M(F),X=M(" out of "),le=M(te),Z=M(" in "),B=M(A),L=q(),d=S("div");for(let r=0;r<V.length;r+=1)V[r].c();v=q(),_=S("div"),u=S("span"),u.textContent=p,D=q(),oe=S("div"),H=S("p"),Ae=M("You placed "),ge=M(i[5]),Ce=M(" out of "),Ee=M(te),De=M(" tiles in "),be=M(i[6]),Ie=M("!"),Ne=q(),se=S("div"),$=S("button"),$.textContent=Le,je=q(),ee=S("button"),ee.textContent=Oe,ye=q(),K=S("div"),ae=S("p"),ae.textContent=Re,this.h()},l(r){s=T(r,"DIV",{class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-196lbky"&&(s.innerHTML=l),e=U(r),n=T(r,"DIV",{class:!0});var k=N(n);a=T(k,"DIV",{class:!0});var Q=N(a);tt(t.$$.fragment,Q),Q.forEach(m),C=U(k),o=T(k,"DIV",{class:!0});var j=N(o);c=T(j,"P",{class:!0,"data-svelte-h":!0}),ie(c)!=="svelte-16vailj"&&(c.textContent=b),g=T(j,"P",{class:!0});var pe=N(g);h=P(pe,E),pe.forEach(m),y=U(j),I=T(j,"P",{class:!0,"data-svelte-h":!0}),ie(I)!=="svelte-e36n45"&&(I.textContent=Y),z=T(j,"P",{class:!0});var ue=N(z);J=P(ue,F),X=P(ue," out of "),le=P(ue,te),Z=P(ue," in "),B=P(ue,A),ue.forEach(m),j.forEach(m),L=U(k),d=T(k,"DIV",{class:!0});var Fe=N(d);for(let Be=0;Be<V.length;Be+=1)V[Be].l(Fe);Fe.forEach(m),k.forEach(m),v=U(r),_=T(r,"DIV",{class:!0,style:!0});var ce=N(_);u=T(ce,"SPAN",{class:!0,"data-svelte-h":!0}),ie(u)!=="svelte-1avriz"&&(u.textContent=p),D=U(ce),oe=T(ce,"DIV",{class:!0});var He=N(oe);H=T(He,"P",{class:!0});var ne=N(H);Ae=P(ne,"You placed "),ge=P(ne,i[5]),Ce=P(ne," out of "),Ee=P(ne,te),De=P(ne," tiles in "),be=P(ne,i[6]),Ie=P(ne,"!"),ne.forEach(m),He.forEach(m),Ne=U(ce),se=T(ce,"DIV",{class:!0});var we=N(se);$=T(we,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ie($)!=="svelte-7t9phd"&&($.textContent=Le),je=U(we),ee=T(we,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ie(ee)!=="svelte-149veyf"&&(ee.textContent=Oe),we.forEach(m),ce.forEach(m),ye=U(r),K=T(r,"DIV",{class:!0,style:!0});var We=N(K);ae=T(We,"P",{class:!0,"data-svelte-h":!0}),ie(ae)!=="svelte-k1nd5u"&&(ae.textContent=Re),We.forEach(m),this.h()},h(){w(s,"class","navigation svelte-uoj29z"),w(a,"class","rollArea"),w(c,"class","timeLabel svelte-uoj29z"),w(g,"class","svelte-uoj29z"),w(I,"class","timeLabel svelte-uoj29z"),w(z,"class","svelte-uoj29z"),w(o,"class","timeArea svelte-uoj29z"),w(d,"class","tableArea svelte-uoj29z"),w(n,"class","container svelte-uoj29z"),w(u,"class","gameOverText svelte-uoj29z"),x(u,"textVisible",i[2]),x(u,"dismissTextAnimation",i[3]),w(H,"class","svelte-uoj29z"),w(oe,"class","statsArea svelte-uoj29z"),w($,"class","playAgainButton svelte-uoj29z"),w($,"type","button"),w(ee,"class","shareButton svelte-uoj29z"),w(ee,"type","button"),w(se,"class","buttonArea svelte-uoj29z"),w(_,"class","gameOverOverlay svelte-uoj29z"),de(_,"--gameOverAnimationTime",nt+"ms"),x(_,"visible",i[2]),x(_,"dismissAnimation",i[3]),w(ae,"class","svelte-uoj29z"),w(K,"class","copyConfirm svelte-uoj29z"),de(K,"--copyConfirmDelay",at+"ms"),x(K,"copyVisible",i[4])},m(r,k){O(r,s,k),O(r,e,k),O(r,n,k),f(n,a),lt(t,a,null),f(n,C),f(n,o),f(o,c),f(o,g),f(g,h),f(o,y),f(o,I),f(o,z),f(z,J),f(z,X),f(z,le),f(z,Z),f(z,B),f(n,L),f(n,d);for(let Q=0;Q<V.length;Q+=1)V[Q]&&V[Q].m(d,null);O(r,v,k),O(r,_,k),f(_,u),f(_,D),f(_,oe),f(oe,H),f(H,Ae),f(H,ge),f(H,Ce),f(H,Ee),f(H,De),f(H,be),f(H,Ie),f(_,Ne),f(_,se),f(se,$),f(se,je),f(se,ee),O(r,ye,k),O(r,K,k),f(K,ae),R=!0,ze||(xe=[Ve($,"click",i[9]),Ve(ee,"click",i[11])],ze=!0)},p(r,[k]){const Q={};if(k&1&&(Q.value=r[0]),t.$set(Q),(!R||k&128)&&E!==(E=me(r[7])+"")&&fe(h,E),(!R||k&256)&&F!==(F=r[8].playerStats.highestScore+"")&&fe(J,F),(!R||k&256)&&A!==(A=me(r[8].playerStats.highestScoreTime)+"")&&fe(B,A),k&1026){re=ve(r[1]);let j;for(j=0;j<re.length;j+=1){const pe=Ke(r,re,j);V[j]?V[j].p(pe,k):(V[j]=Qe(pe),V[j].c(),V[j].m(d,null))}for(;j<V.length;j+=1)V[j].d(1);V.length=re.length}(!R||k&4)&&x(u,"textVisible",r[2]),(!R||k&8)&&x(u,"dismissTextAnimation",r[3]),(!R||k&32)&&fe(ge,r[5]),(!R||k&64)&&fe(be,r[6]),(!R||k&4)&&x(_,"visible",r[2]),(!R||k&8)&&x(_,"dismissAnimation",r[3]),(!R||k&16)&&x(K,"copyVisible",r[4])},i(r){R||(_e(t.$$.fragment,r),R=!0)},o(r){Te(t.$$.fragment,r),R=!1},d(r){r&&(m(s),m(e),m(n),m(v),m(_),m(ye),m(K)),st(t),$e(V,r),ze=!1,Ze(xe)}}}const te=20,Et=1,Xe=999,Dt=1e3,nt=750,at=1e3,It=10;function me(i){if(!Number.isInteger(Math.floor(i)))return"0:00";let s=Math.floor(i/6e4),l=(i%6e4/1e3).toFixed(0);return`${s}:${l<10?"0":""}${l}`}function Nt(i,s,l){let e;it(i,W,d=>l(8,e=d));let n,a,t=new Array(te).fill().map(()=>({disabled:!1,value:null})),C=!1,o=!1,c=!1,b=0,g=window.performance.now(),E,h,y,I,Y;ot(()=>{l(0,a=Xe),setTimeout(()=>F(),100)}),rt(()=>{window.cancelAnimationFrame(I)});function z(d){if(d<y+1e3/It){I=requestAnimationFrame(z);return}y=d,l(7,Y=d-g),I=window.requestAnimationFrame(z)}function F(){n=[];for(let d=Et;d<=Xe;d++)n.push(d);l(1,t=new Array(te).fill().map(()=>({disabled:!1,value:null}))),l(3,o=!0),setTimeout(()=>{l(2,C=!1),l(3,o=!1),g=window.performance.now(),y=g,I=window.requestAnimationFrame(z)},nt),E={},J()}function J(){const v=n.length-1,_=Math.floor(Math.random()*(v-0+1))+0,u=n[_];n.splice(_,1),l(0,a=u),le()}function X(d){l(1,t[d].value=a,t),l(1,t[d].disabled=!0,t),J(),Z()}function le(){if(t.every(u=>u.value===null))return;const d=t.filter(u=>u.value!==null).map(u=>u.value);let v=NaN;for(const u of d)u<a&&(isNaN(v)||u>v)&&(v=u);let _=NaN;for(const u of d)u>a&&(isNaN(_)||u<_)&&(_=u);if(isNaN(v)&&!isNaN(_)){let u=t.findIndex(p=>p.value===_);for(let p=0;p<u;p++)t[p].value||l(1,t[p].disabled=!1,t);for(let p=u+1;p<t.length;p++)t[p].value||l(1,t[p].disabled=!0,t)}else if(!isNaN(v)&&isNaN(_)){let u=t.findIndex(p=>p.value===v);for(let p=u;p<t.length;p++)t[p].value||l(1,t[p].disabled=!1,t);for(let p=0;p<u;p++)t[p].value||l(1,t[p].disabled=!0,t)}else{let u=t.findIndex(D=>D.value===v),p=t.findIndex(D=>D.value===_);for(let D=0;D<u;D++)t[D].value||l(1,t[D].disabled=!0,t);for(let D=u;D<p;D++)t[D].value||l(1,t[D].disabled=!1,t);for(let D=p;D<t.length;D++)t[D].value||l(1,t[D].disabled=!0,t)}}function Z(){let d;if(t.every(v=>v.value!==null)?d="win":t.every(v=>v.disabled===!0)?d="lose":d="continue",d!=="continue"){E=window.performance.now(),cancelAnimationFrame(I);const v=E-g;l(6,h=me(v)),l(5,b=t.filter(p=>p.value!==null).length);const _=t.find(p=>p.value),u=t.toReversed().find(p=>p.value);G(W,e.playerStats.totalGames++,e),b>e.playerStats.highestScore?(G(W,e.playerStats.highestScore=b,e),G(W,e.playerStats.highestScoreTime=v,e)):b===e.playerStats.highestScore&&v<e.playerStats.highestScoreTime&&G(W,e.playerStats.highestScoreTime=v,e),u.value>e.playerStats.highestPlaced&&G(W,e.playerStats.highestPlaced=u.value,e),_.value<e.playerStats.lowestPlaced&&G(W,e.playerStats.lowestPlaced=_.value,e),d==="win"&&(G(W,e.playerStats.wonGames++,e),(e.playerStats.fastestWin===null||v<e.playerStats.fastestWin)&&G(W,e.playerStats.fastestWin=v,e),(e.playerStats.slowestWin===null||v>e.playerStats.slowestWin)&&G(W,e.playerStats.slowestWin=v,e),t[0].value>e.playerStats.highestFirstBucket&&G(W,e.playerStats.highestFirstBucket=t[0].value,e),t[te-1]<e.playerStats.lowestLastBucket&&G(W,e.playerStats.lowestLastBucket=t[te-1].value,e)),pt(),setTimeout(()=>l(2,C=!0),Dt)}}function A(){const d=`I placed ${b} out of ${te} tiles in ${h} on PlaceIt!`,v=B(),u=`${d}

${v}

Can you place more? https://placeitgame.app`;navigator.clipboard.writeText(u),l(4,c=!0),setTimeout(()=>l(4,c=!1),at)}function B(){let v="";for(const[_,u]of t.entries())u.value===null?v=v+"🟨":v=v+"🟦",(_+1)%5===0&&(v=v+`
`);return v.trim()}return[a,t,C,o,c,b,h,Y,e,F,X,A,d=>X(d)]}class Pt extends Me{constructor(s){super(),Pe(this,s,Nt,Ct,Se,{})}}export{Pt as component};
