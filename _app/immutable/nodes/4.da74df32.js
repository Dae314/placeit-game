import{F as Ke,s as we,e as be,i as F,G as fe,d as b,f as A,g as E,h as z,j as k,k as he,M as Qe,l as L,m as V,B as q,C as h,a as J,J as re,c as K,u as ze,n as ce,I as Fe,o as lt,z as st,L as W,E as nt}from"../chunks/scheduler.9657a15e.js";import{t as ye,a as me,S as Be,i as Me,g as at,c as it,b as Xe,d as Ze,m as $e,e as et,h as ot}from"../chunks/index.ab4fc0a5.js";import{b as rt}from"../chunks/paths.379e7418.js";import{s as ct}from"../chunks/index.a7cb4865.js";import{A as G,s as ft}from"../chunks/AppData.05edb612.js";import{A as xe}from"../chunks/Alert.4f345f85.js";import{f as ve}from"../chunks/formatTime.5f24a19a.js";function ue(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function ut(a,l){ye(a,1,1,()=>{l.delete(a.key)})}function dt(a,l,s,t,e,n,i,o,r,u,w,g){let D=a.length,v=n.length,y=D;const N={};for(;y--;)N[a[y].key]=y;const U=[],B=new Map,x=new Map,Y=[];for(y=v;y--;){const S=g(e,n,y),M=s(S);let O=i.get(M);O?t&&Y.push(()=>O.p(S,l)):(O=u(M,S),O.c()),B.set(M,U[y]=O),M in N&&x.set(M,Math.abs(y-N[M]))}const Q=new Set,te=new Set;function X(S){me(S,1),S.m(o,w),i.set(S.key,S),w=S.first,v--}for(;D&&v;){const S=U[v-1],M=a[D-1],O=S.key,f=M.key;S===M?(w=S.first,D--,v--):B.has(f)?!i.has(O)||Q.has(O)?X(S):te.has(f)?D--:x.get(O)>x.get(f)?(te.add(O),X(S)):(Q.add(f),D--):(r(M,i),D--)}for(;D--;){const S=a[D];B.has(S.key)||r(S,i)}for(;v;)X(U[v-1]);return Ke(Y),U}function He(a,l,s){const t=a.slice();return t[10]=l[s],t}function We(a){let l,s=a[10]+"",t;return{c(){l=A("div"),t=L(s),this.h()},l(e){l=E(e,"DIV",{class:!0});var n=z(l);t=V(n,s),n.forEach(b),this.h()},h(){k(l,"class","digit svelte-tmlpoc"),q(l,"active",a[0]==="x"||a[10]===a[0])},m(e,n){F(e,l,n),h(l,t)},p(e,n){n&5&&q(l,"active",e[0]==="x"||e[10]===e[0])},d(e){e&&b(l)}}}function Ge(a){let l,s=ue(a[2]),t=[];for(let e=0;e<s.length;e+=1)t[e]=We(He(a,s,e));return{c(){l=A("div");for(let e=0;e<t.length;e+=1)t[e].c();this.h()},l(e){l=E(e,"DIV",{class:!0,style:!0});var n=z(l);for(let i=0;i<t.length;i+=1)t[i].l(n);n.forEach(b),this.h()},h(){k(l,"class","container svelte-tmlpoc"),he(l,"--line-height",a[1]+"px"),he(l,"--offset",a[3](a[0])+"px")},m(e,n){F(e,l,n);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(l,null)},p(e,n){if(n&5){s=ue(e[2]);let i;for(i=0;i<s.length;i+=1){const o=He(e,s,i);t[i]?t[i].p(o,n):(t[i]=We(o),t[i].c(),t[i].m(l,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=s.length}n&2&&he(l,"--line-height",e[1]+"px"),n&1&&he(l,"--offset",e[3](e[0])+"px")},d(e){e&&b(l),Qe(t,e)}}}function ht(a){let l=a[1],s,t=Ge(a);return{c(){t.c(),s=be()},l(e){t.l(e),s=be()},m(e,n){t.m(e,n),F(e,s,n)},p(e,[n]){n&2&&we(l,l=e[1])?(t.d(1),t=Ge(e),t.c(),t.m(s.parentNode,s)):t.p(e,n)},i:fe,o:fe,d(e){e&&b(s),t.d(e)}}}function vt(a,l,s){let{number:t}=l,e=120;const n=["x",0,1,2,3,4,5,6,7,8,9];function i(v){return v==="x"?0:-(v+1)*e}const o=window.matchMedia("(min-width: 740px)"),r=window.matchMedia("(max-width: 740px)"),u=window.matchMedia("(max-width: 330px)");o.addEventListener("change",w),r.addEventListener("change",g),u.addEventListener("change",D);function w(v){v.matches&&s(1,e=120)}function g(v){v.matches&&s(1,e=100)}function D(v){v.matches&&s(1,e=75)}return a.$$set=v=>{"number"in v&&s(0,t=v.number)},[t,e,n,i]}class mt extends Be{constructor(l){super(),Me(this,l,vt,ht,we,{number:0})}}function qe(a,l,s){const t=a.slice();return t[2]=l[s],t[4]=s,t}function Ue(a,l){let s,t,e;return t=new mt({props:{number:l[2]}}),{key:a,first:null,c(){s=be(),Xe(t.$$.fragment),this.h()},l(n){s=be(),Ze(t.$$.fragment,n),this.h()},h(){this.first=s},m(n,i){F(n,s,i),$e(t,n,i),e=!0},p(n,i){l=n;const o={};i&1&&(o.number=l[2]),t.$set(o)},i(n){e||(me(t.$$.fragment,n),e=!0)},o(n){ye(t.$$.fragment,n),e=!1},d(n){n&&b(s),et(t,n)}}}function pt(a){let l,s,t=[],e=new Map,n,i=ue(a[0]);const o=r=>r[0].length-r[4];for(let r=0;r<i.length;r+=1){let u=qe(a,i,r),w=o(u);e.set(w,t[r]=Ue(w,u))}return{c(){l=A("div"),s=A("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){l=E(r,"DIV",{class:!0});var u=z(l);s=E(u,"DIV",{class:!0});var w=z(s);for(let g=0;g<t.length;g+=1)t[g].l(w);w.forEach(b),u.forEach(b),this.h()},h(){k(s,"class","digits svelte-157obfn"),k(l,"class","container svelte-157obfn")},m(r,u){F(r,l,u),h(l,s);for(let w=0;w<t.length;w+=1)t[w]&&t[w].m(s,null);n=!0},p(r,[u]){u&1&&(i=ue(r[0]),at(),t=dt(t,u,o,1,r,i,e,s,ut,Ue,null,qe),it())},i(r){if(!n){for(let u=0;u<i.length;u+=1)me(t[u]);n=!0}},o(r){for(let u=0;u<t.length;u+=1)ye(t[u]);n=!1},d(r){r&&b(l);for(let u=0;u<t.length;u+=1)t[u].d()}}}function _t(a,l,s){let t,{value:e=0}=l;return a.$$set=n=>{"value"in n&&s(1,e=n.value)},a.$$.update=()=>{a.$$.dirty&2&&s(0,t=e.toString().padStart(3,"x").split("").map(n=>n==="x"?n:Number(n)))},[t,e]}class gt extends Be{constructor(l){super(),Me(this,l,_t,pt,we,{value:1})}}function Ye(a,l,s){const t=a.slice();return t[23]=l[s],t[25]=s,t}function bt(a){let l,s=a[25]+1+"",t;return{c(){l=A("span"),t=L(s),this.h()},l(e){l=E(e,"SPAN",{class:!0});var n=z(l);t=V(n,s),n.forEach(b),this.h()},h(){k(l,"class","unusedBucketText svelte-zfsv03")},m(e,n){F(e,l,n),h(l,t)},p:fe,i:fe,o:fe,d(e){e&&b(l)}}}function wt(a){let l,s=a[23].value+"",t,e;return{c(){l=A("span"),t=L(s)},l(n){l=E(n,"SPAN",{});var i=z(l);t=V(i,s),i.forEach(b)},m(n,i){F(n,l,i),h(l,t)},p(n,i){i&2&&s!==(s=n[23].value+"")&&ce(t,s)},i(n){n&&(e||nt(()=>{e=ot(l,ct,{duration:100}),e.start()}))},o:fe,d(n){n&&b(l)}}}function je(a){let l,s,t,e,n,i,o,r;function u(v,y){return v[23].value?wt:bt}let w=u(a),g=w(a);function D(){return a[11](a[25])}return{c(){l=A("div"),s=A("button"),g.c(),e=J(),n=A("div"),i=J(),this.h()},l(v){l=E(v,"DIV",{class:!0});var y=z(l);s=E(y,"BUTTON",{class:!0,type:!0});var N=z(s);g.l(N),N.forEach(b),e=K(y),n=E(y,"DIV",{class:!0}),z(n).forEach(b),i=K(y),y.forEach(b),this.h()},h(){k(s,"class","bucketButton svelte-zfsv03"),k(s,"type","button"),s.disabled=t=a[23].disabled,k(n,"class","underline svelte-zfsv03"),q(n,"disabled",a[23].disabled),k(l,"class","bucket svelte-zfsv03")},m(v,y){F(v,l,y),h(l,s),g.m(s,null),h(l,e),h(l,n),h(l,i),o||(r=ze(s,"click",D),o=!0)},p(v,y){a=v,w===(w=u(a))&&g?g.p(a,y):(g.d(1),g=w(a),g&&(g.c(),me(g,1),g.m(s,null))),y&2&&t!==(t=a[23].disabled)&&(s.disabled=t),y&2&&q(n,"disabled",a[23].disabled)},d(v){v&&b(l),g.d(),o=!1,r()}}}function yt(a){let l,s=`<a href="${rt}/" class="backButton svelte-zfsv03">BACK</a>`,t,e,n,i,o,r,u,w="Time:",g,D=ve(a[6])+"",v,y,N,U="Previous Best:",B,x=a[7].playerStats.highestScore+"",Y,Q,te,X,S=ve(a[7].playerStats.highestScoreTime)+"",M,O,f,m,_,c,p="GAME OVER",I,ne,H,ke,pe,Se,Te,Ae,_e,Ee,De,le,Z,Pe="RETRY",Ie,$,Le="SHARE",R,Ne,Ve;i=new gt({props:{value:a[0]}});let ae=ue(a[1]),P=[];for(let d=0;d<ae.length;d+=1)P[d]=je(Ye(a,ae,d));return{c(){l=A("div"),l.innerHTML=s,t=J(),e=A("div"),n=A("div"),Xe(i.$$.fragment),o=J(),r=A("div"),u=A("p"),u.textContent=w,g=A("p"),v=L(D),y=J(),N=A("p"),N.textContent=U,B=A("p"),Y=L(x),Q=L(" out of "),te=L(ee),X=L(" in "),M=L(S),O=J(),f=A("div");for(let d=0;d<P.length;d+=1)P[d].c();m=J(),_=A("div"),c=A("span"),c.textContent=p,I=J(),ne=A("div"),H=A("p"),ke=L("You placed "),pe=L(a[4]),Se=L(" out of "),Te=L(ee),Ae=L(" tiles in "),_e=L(a[5]),Ee=L("!"),De=J(),le=A("div"),Z=A("button"),Z.textContent=Pe,Ie=J(),$=A("button"),$.textContent=Le,this.h()},l(d){l=E(d,"DIV",{class:!0,"data-svelte-h":!0}),re(l)!=="svelte-196lbky"&&(l.innerHTML=s),t=K(d),e=E(d,"DIV",{class:!0});var T=z(e);n=E(T,"DIV",{class:!0});var j=z(n);Ze(i.$$.fragment,j),j.forEach(b),o=K(T),r=E(T,"DIV",{class:!0});var C=z(r);u=E(C,"P",{class:!0,"data-svelte-h":!0}),re(u)!=="svelte-16vailj"&&(u.textContent=w),g=E(C,"P",{class:!0});var de=z(g);v=V(de,D),de.forEach(b),y=K(C),N=E(C,"P",{class:!0,"data-svelte-h":!0}),re(N)!=="svelte-e36n45"&&(N.textContent=U),B=E(C,"P",{class:!0});var ie=z(B);Y=V(ie,x),Q=V(ie," out of "),te=V(ie,ee),X=V(ie," in "),M=V(ie,S),ie.forEach(b),C.forEach(b),O=K(T),f=E(T,"DIV",{class:!0});var Oe=z(f);for(let Ce=0;Ce<P.length;Ce+=1)P[Ce].l(Oe);Oe.forEach(b),T.forEach(b),m=K(d),_=E(d,"DIV",{class:!0,style:!0});var oe=z(_);c=E(oe,"SPAN",{class:!0,"data-svelte-h":!0}),re(c)!=="svelte-1avriz"&&(c.textContent=p),I=K(oe),ne=E(oe,"DIV",{class:!0});var Re=z(ne);H=E(Re,"P",{class:!0});var se=z(H);ke=V(se,"You placed "),pe=V(se,a[4]),Se=V(se," out of "),Te=V(se,ee),Ae=V(se," tiles in "),_e=V(se,a[5]),Ee=V(se,"!"),se.forEach(b),Re.forEach(b),De=K(oe),le=E(oe,"DIV",{class:!0});var ge=z(le);Z=E(ge,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),re(Z)!=="svelte-7t9phd"&&(Z.textContent=Pe),Ie=K(ge),$=E(ge,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),re($)!=="svelte-149veyf"&&($.textContent=Le),ge.forEach(b),oe.forEach(b),this.h()},h(){k(l,"class","navigation svelte-zfsv03"),k(n,"class","rollArea"),k(u,"class","timeLabel svelte-zfsv03"),k(g,"class","svelte-zfsv03"),k(N,"class","timeLabel svelte-zfsv03"),k(B,"class","svelte-zfsv03"),k(r,"class","timeArea svelte-zfsv03"),k(f,"class","tableArea svelte-zfsv03"),k(e,"class","container svelte-zfsv03"),k(c,"class","gameOverText svelte-zfsv03"),q(c,"textVisible",a[2]),q(c,"dismissTextAnimation",a[3]),k(H,"class","svelte-zfsv03"),k(ne,"class","statsArea svelte-zfsv03"),k(Z,"class","playAgainButton svelte-zfsv03"),k(Z,"type","button"),k($,"class","shareButton svelte-zfsv03"),k($,"type","button"),k(le,"class","buttonArea svelte-zfsv03"),k(_,"class","gameOverOverlay svelte-zfsv03"),he(_,"--gameOverAnimationTime",tt+"ms"),q(_,"visible",a[2]),q(_,"dismissAnimation",a[3])},m(d,T){F(d,l,T),F(d,t,T),F(d,e,T),h(e,n),$e(i,n,null),h(e,o),h(e,r),h(r,u),h(r,g),h(g,v),h(r,y),h(r,N),h(r,B),h(B,Y),h(B,Q),h(B,te),h(B,X),h(B,M),h(e,O),h(e,f);for(let j=0;j<P.length;j+=1)P[j]&&P[j].m(f,null);F(d,m,T),F(d,_,T),h(_,c),h(_,I),h(_,ne),h(ne,H),h(H,ke),h(H,pe),h(H,Se),h(H,Te),h(H,Ae),h(H,_e),h(H,Ee),h(_,De),h(_,le),h(le,Z),h(le,Ie),h(le,$),R=!0,Ne||(Ve=[ze(Z,"click",a[8]),ze($,"click",a[10])],Ne=!0)},p(d,[T]){const j={};if(T&1&&(j.value=d[0]),i.$set(j),(!R||T&64)&&D!==(D=ve(d[6])+"")&&ce(v,D),(!R||T&128)&&x!==(x=d[7].playerStats.highestScore+"")&&ce(Y,x),(!R||T&128)&&S!==(S=ve(d[7].playerStats.highestScoreTime)+"")&&ce(M,S),T&514){ae=ue(d[1]);let C;for(C=0;C<ae.length;C+=1){const de=Ye(d,ae,C);P[C]?P[C].p(de,T):(P[C]=je(de),P[C].c(),P[C].m(f,null))}for(;C<P.length;C+=1)P[C].d(1);P.length=ae.length}(!R||T&4)&&q(c,"textVisible",d[2]),(!R||T&8)&&q(c,"dismissTextAnimation",d[3]),(!R||T&16)&&ce(pe,d[4]),(!R||T&32)&&ce(_e,d[5]),(!R||T&4)&&q(_,"visible",d[2]),(!R||T&8)&&q(_,"dismissAnimation",d[3])},i(d){R||(me(i.$$.fragment,d),R=!0)},o(d){ye(i.$$.fragment,d),R=!1},d(d){d&&(b(l),b(t),b(e),b(m),b(_)),et(i),Qe(P,d),Ne=!1,Ke(Ve)}}}const ee=20,kt=1,Je=999,St=1e3,tt=750,Tt=10;function At(a,l,s){let t,e;Fe(a,xe,f=>s(17,t=f)),Fe(a,G,f=>s(7,e=f));let n,i,o=new Array(ee).fill().map(()=>({disabled:!1,value:null})),r=!1,u=!1,w=0,g=window.performance.now(),D,v,y,N,U;lt(()=>{s(0,i=Je),setTimeout(()=>x(),100)}),st(()=>{window.cancelAnimationFrame(N)});function B(f){if(f<y+1e3/Tt){N=requestAnimationFrame(B);return}y=f,s(6,U=f-g),N=window.requestAnimationFrame(B)}function x(){n=[];for(let f=kt;f<=Je;f++)n.push(f);s(1,o=new Array(ee).fill().map(()=>({disabled:!1,value:null}))),s(3,u=!0),setTimeout(()=>{s(2,r=!1),s(3,u=!1),g=window.performance.now(),y=g,N=window.requestAnimationFrame(B)},tt),D={},Y()}function Y(){const m=n.length-1,_=Math.floor(Math.random()*(m-0+1))+0,c=n[_];n.splice(_,1),s(0,i=c),te()}function Q(f){s(1,o[f].value=i,o),s(1,o[f].disabled=!0,o),Y(),X()}function te(){if(o.every(c=>c.value===null))return;const f=o.filter(c=>c.value!==null).map(c=>c.value);let m=NaN;for(const c of f)c<i&&(isNaN(m)||c>m)&&(m=c);let _=NaN;for(const c of f)c>i&&(isNaN(_)||c<_)&&(_=c);if(isNaN(m)&&!isNaN(_)){let c=o.findIndex(p=>p.value===_);for(let p=0;p<c;p++)o[p].value||s(1,o[p].disabled=!1,o);for(let p=c+1;p<o.length;p++)o[p].value||s(1,o[p].disabled=!0,o)}else if(!isNaN(m)&&isNaN(_)){let c=o.findIndex(p=>p.value===m);for(let p=c;p<o.length;p++)o[p].value||s(1,o[p].disabled=!1,o);for(let p=0;p<c;p++)o[p].value||s(1,o[p].disabled=!0,o)}else{let c=o.findIndex(I=>I.value===m),p=o.findIndex(I=>I.value===_);for(let I=0;I<c;I++)o[I].value||s(1,o[I].disabled=!0,o);for(let I=c;I<p;I++)o[I].value||s(1,o[I].disabled=!1,o);for(let I=p;I<o.length;I++)o[I].value||s(1,o[I].disabled=!0,o)}}function X(){let f;if(o.every(m=>m.value!==null)?f="win":o.every(m=>m.disabled===!0)?f="lose":f="continue",f!=="continue"){D=window.performance.now(),cancelAnimationFrame(N);const m=D-g;s(5,v=ve(m)),s(4,w=o.filter(p=>p.value!==null).length);const _=o.find(p=>p.value),c=o.toReversed().find(p=>p.value);W(G,e.playerStats.totalGames++,e),w>e.playerStats.highestScore?(W(G,e.playerStats.highestScore=w,e),W(G,e.playerStats.highestScoreTime=m,e)):w===e.playerStats.highestScore&&m<e.playerStats.highestScoreTime&&W(G,e.playerStats.highestScoreTime=m,e),c.value>e.playerStats.highestPlaced&&W(G,e.playerStats.highestPlaced=c.value,e),_.value<e.playerStats.lowestPlaced&&W(G,e.playerStats.lowestPlaced=_.value,e),f==="win"&&(W(G,e.playerStats.wonGames++,e),(e.playerStats.fastestWin===null||m<e.playerStats.fastestWin)&&W(G,e.playerStats.fastestWin=m,e),(e.playerStats.slowestWin===null||m>e.playerStats.slowestWin)&&W(G,e.playerStats.slowestWin=m,e),o[0].value>e.playerStats.highestFirstBucket&&W(G,e.playerStats.highestFirstBucket=o[0].value,e),o[ee-1]<e.playerStats.lowestLastBucket&&W(G,e.playerStats.lowestLastBucket=o[ee-1].value,e)),ft(),setTimeout(()=>s(2,r=!0),St)}}function S(){const f=`I placed ${w} out of ${ee} tiles in ${v} on PlaceIt!`,m=M(),c=`${f}

${m}

Can you place more? https://placeitgame.app`;navigator.clipboard.writeText(c),W(xe,t={level:"info",message:"COPIED TO CLIPBOARD"},t)}function M(){let m="";for(const[_,c]of o.entries())c.value===null?m=m+"🟨":m=m+"🟦",(_+1)%5===0&&(m=m+`
`);return m.trim()}return[i,o,r,u,w,v,U,e,x,Q,S,f=>Q(f)]}class Mt extends Be{constructor(l){super(),Me(this,l,At,yt,we,{})}}export{Mt as component};
