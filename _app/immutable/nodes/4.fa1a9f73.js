import{F as Le,s as he,e as ie,i as q,G as le,d as b,o as Ve,f as E,g as A,h as M,j as S,k as ue,N as Oe,l as H,m as W,B as de,C as _,a as J,I as qe,c as Q,K as se,n as ae,J as ye,z as je,u as pe,O as Ue,P as Ye,E as me,M as K}from"../chunks/scheduler.407f67a1.js";import{t as ne,a as ee,S as _e,i as ge,g as xe,c as Re,b as Fe,d as He,m as We,e as Ge,f as fe,h as Ke}from"../chunks/index.e89b7c83.js";import{b as ze}from"../chunks/paths.e392fc65.js";import{a as we,f as Se,s as Je}from"../chunks/index.1030b2d1.js";import{A as z,s as Qe}from"../chunks/AppData.725ebf90.js";import{A as Te}from"../chunks/Alert.39c2dfbf.js";import{f as oe}from"../chunks/formatTime.5f24a19a.js";function re(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Xe(n,t){ne(n,1,1,()=>{t.delete(n.key)})}function Ze(n,t,s,l,e,a,r,i,u,d,o,k){let N=n.length,w=a.length,g=N;const F={};for(;g--;)F[n[g].key]=g;const L=[],V=new Map,X=new Map,P=[];for(g=w;g--;){const T=k(e,a,g),D=s(T);let c=r.get(D);c?l&&P.push(()=>c.p(T,t)):(c=d(D,T),c.c()),V.set(D,L[g]=c),D in F&&X.set(D,Math.abs(g-F[D]))}const O=new Set,x=new Set;function Y(T){ee(T,1),T.m(i,o),r.set(T.key,T),o=T.first,w--}for(;N&&w;){const T=L[w-1],D=n[N-1],c=T.key,p=D.key;T===D?(o=T.first,N--,w--):V.has(p)?!r.has(c)||O.has(c)?Y(T):x.has(p)?N--:X.get(c)>X.get(p)?(x.add(c),Y(T)):(O.add(p),N--):(u(D,r),N--)}for(;N--;){const T=n[N];V.has(T.key)||u(T,r)}for(;w;)Y(L[w-1]);return Le(P),L}function Ee(n,t,s){const l=n.slice();return l[7]=t[s],l}function Ae(n){let t,s=n[7]+"",l;return{c(){t=E("div"),l=H(s),this.h()},l(e){t=A(e,"DIV",{class:!0});var a=M(t);l=W(a,s),a.forEach(b),this.h()},h(){S(t,"class","digit svelte-ko37nb"),de(t,"active",n[0]==="x"||n[7]===n[0])},m(e,a){q(e,t,a),_(t,l)},p(e,a){a&5&&de(t,"active",e[0]==="x"||e[7]===e[0])},d(e){e&&b(t)}}}function Ie(n){let t,s=re(n[2]),l=[];for(let e=0;e<s.length;e+=1)l[e]=Ae(Ee(n,s,e));return{c(){t=E("div");for(let e=0;e<l.length;e+=1)l[e].c();this.h()},l(e){t=A(e,"DIV",{class:!0,style:!0});var a=M(t);for(let r=0;r<l.length;r+=1)l[r].l(a);a.forEach(b),this.h()},h(){S(t,"class","container svelte-ko37nb"),ue(t,"--line-height",n[1]+"px"),ue(t,"--offset",n[3](n[0])+"px")},m(e,a){q(e,t,a);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(t,null)},p(e,a){if(a&5){s=re(e[2]);let r;for(r=0;r<s.length;r+=1){const i=Ee(e,s,r);l[r]?l[r].p(i,a):(l[r]=Ae(i),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}a&2&&ue(t,"--line-height",e[1]+"px"),a&1&&ue(t,"--offset",e[3](e[0])+"px")},d(e){e&&b(t),Oe(l,e)}}}function $e(n){let t=n[1],s,l=Ie(n);return{c(){l.c(),s=ie()},l(e){l.l(e),s=ie()},m(e,a){l.m(e,a),q(e,s,a)},p(e,[a]){a&2&&he(t,t=e[1])?(l.d(1),l=Ie(e),l.c(),l.m(s.parentNode,s)):l.p(e,a)},i:le,o:le,d(e){e&&b(s),l.d(e)}}}function et(n,t,s){let{number:l}=t,e=120;const a=["x",0,1,2,3,4,5,6,7,8,9];function r(o){return o==="x"?0:-(o+1)*e}Ve(async()=>{const o=window.matchMedia("(min-width: 740px)"),k=window.matchMedia("(max-width: 740px)"),N=window.matchMedia("(max-width: 330px)");o.addEventListener("change",i),k.addEventListener("change",u),N.addEventListener("change",d)});function i(o){o.matches&&s(1,e=120)}function u(o){o.matches&&s(1,e=100)}function d(o){o.matches&&s(1,e=75)}return n.$$set=o=>{"number"in o&&s(0,l=o.number)},[l,e,a,r]}class tt extends _e{constructor(t){super(),ge(this,t,et,$e,he,{number:0})}}function De(n,t,s){const l=n.slice();return l[2]=t[s],l[4]=s,l}function Ne(n,t){let s,l,e;return l=new tt({props:{number:t[2]}}),{key:n,first:null,c(){s=ie(),Fe(l.$$.fragment),this.h()},l(a){s=ie(),He(l.$$.fragment,a),this.h()},h(){this.first=s},m(a,r){q(a,s,r),We(l,a,r),e=!0},p(a,r){t=a;const i={};r&1&&(i.number=t[2]),l.$set(i)},i(a){e||(ee(l.$$.fragment,a),e=!0)},o(a){ne(l.$$.fragment,a),e=!1},d(a){a&&b(s),Ge(l,a)}}}function lt(n){let t,s,l=[],e=new Map,a,r=re(n[0]);const i=u=>u[0].length-u[4];for(let u=0;u<r.length;u+=1){let d=De(n,r,u),o=i(d);e.set(o,l[u]=Ne(o,d))}return{c(){t=E("div"),s=E("div");for(let u=0;u<l.length;u+=1)l[u].c();this.h()},l(u){t=A(u,"DIV",{class:!0});var d=M(t);s=A(d,"DIV",{class:!0});var o=M(s);for(let k=0;k<l.length;k+=1)l[k].l(o);o.forEach(b),d.forEach(b),this.h()},h(){S(s,"class","digits svelte-157obfn"),S(t,"class","container svelte-157obfn")},m(u,d){q(u,t,d),_(t,s);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,null);a=!0},p(u,[d]){d&1&&(r=re(u[0]),xe(),l=Ze(l,d,i,1,u,r,e,s,Xe,Ne,null,De),Re())},i(u){if(!a){for(let d=0;d<r.length;d+=1)ee(l[d]);a=!0}},o(u){for(let d=0;d<l.length;d+=1)ne(l[d]);a=!1},d(u){u&&b(t);for(let d=0;d<l.length;d+=1)l[d].d()}}}function st(n,t,s){let l,{value:e=0}=t;return n.$$set=a=>{"value"in a&&s(1,e=a.value)},n.$$.update=()=>{n.$$.dirty&2&&s(0,l=e.toString().padStart(3,"x").split("").map(a=>a==="x"?a:Number(a)))},[l,e]}class at extends _e{constructor(t){super(),ge(this,t,st,lt,he,{value:1})}}function Be(n,t,s){const l=n.slice();return l[22]=t[s],l[24]=s,l}function nt(n){let t,s=n[24]+1+"",l;return{c(){t=E("span"),l=H(s),this.h()},l(e){t=A(e,"SPAN",{class:!0});var a=M(t);l=W(a,s),a.forEach(b),this.h()},h(){S(t,"class","unusedBucketText svelte-1vkgg94")},m(e,a){q(e,t,a),_(t,l)},p:le,i:le,o:le,d(e){e&&b(t)}}}function it(n){let t,s=n[22].value+"",l,e;return{c(){t=E("span"),l=H(s)},l(a){t=A(a,"SPAN",{});var r=M(t);l=W(r,s),r.forEach(b)},m(a,r){q(a,t,r),_(t,l)},p(a,r){r&2&&s!==(s=a[22].value+"")&&ae(l,s)},i(a){a&&(e||me(()=>{e=Ke(t,Je,{duration:100}),e.start()}))},o:le,d(a){a&&b(t)}}}function Ce(n){let t,s,l,e,a,r,i,u;function d(w,g){return w[22].value?it:nt}let o=d(n),k=o(n);function N(){return n[11](n[24])}return{c(){t=E("div"),s=E("button"),k.c(),e=J(),a=E("div"),r=J(),this.h()},l(w){t=A(w,"DIV",{class:!0});var g=M(t);s=A(g,"BUTTON",{class:!0,type:!0});var F=M(s);k.l(F),F.forEach(b),e=Q(g),a=A(g,"DIV",{class:!0}),M(a).forEach(b),r=Q(g),g.forEach(b),this.h()},h(){S(s,"class","bucketButton svelte-1vkgg94"),S(s,"type","button"),s.disabled=l=n[22].disabled,S(a,"class","underline svelte-1vkgg94"),de(a,"disabled",n[22].disabled),S(t,"class","bucket svelte-1vkgg94")},m(w,g){q(w,t,g),_(t,s),k.m(s,null),_(t,e),_(t,a),_(t,r),i||(u=pe(s,"click",N),i=!0)},p(w,g){n=w,o===(o=d(n))&&k?k.p(n,g):(k.d(1),k=o(n),k&&(k.c(),ee(k,1),k.m(s,null))),g&2&&l!==(l=n[22].disabled)&&(s.disabled=l),g&2&&de(a,"disabled",n[22].disabled)},d(w){w&&b(t),k.d(),i=!1,u()}}}function Pe(n){let t,s,l="GAME OVER",e,a,r,i,u,d,o,k,N,w,g,F,L,V,X=n[10]("html")+"",P,O,x,Y="RETRY",T,D,c="SHARE",p,y,h,m;return{c(){t=E("div"),s=E("span"),s.textContent=l,a=J(),r=E("div"),i=E("p"),u=H("You placed "),d=H(n[3]),o=H(" out of "),k=H($),N=H(" tiles in "),w=H(n[4]),g=H("!"),F=J(),L=E("div"),V=new Ue(!1),P=J(),O=E("div"),x=E("button"),x.textContent=Y,T=J(),D=E("button"),D.textContent=c,this.h()},l(v){t=A(v,"DIV",{class:!0});var C=M(t);s=A(C,"SPAN",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-1ey1o1x"&&(s.textContent=l),a=Q(C),r=A(C,"DIV",{class:!0});var U=M(r);i=A(U,"P",{class:!0});var I=M(i);u=W(I,"You placed "),d=W(I,n[3]),o=W(I," out of "),k=W(I,$),N=W(I," tiles in "),w=W(I,n[4]),g=W(I,"!"),I.forEach(b),F=Q(U),L=A(U,"DIV",{class:!0});var B=M(L);V=Ye(B,!1),B.forEach(b),U.forEach(b),P=Q(C),O=A(C,"DIV",{class:!0});var f=M(O);x=A(f,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),se(x)!=="svelte-7t9phd"&&(x.textContent=Y),T=Q(f),D=A(f,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),se(D)!=="svelte-149veyf"&&(D.textContent=c),f.forEach(b),C.forEach(b),this.h()},h(){S(s,"class","gameOverText svelte-1vkgg94"),S(i,"class","svelte-1vkgg94"),V.a=null,S(L,"class","boardDisplay svelte-1vkgg94"),S(r,"class","statsArea svelte-1vkgg94"),S(x,"class","playAgainButton svelte-1vkgg94"),S(x,"type","button"),S(D,"class","shareButton svelte-1vkgg94"),S(D,"type","button"),S(O,"class","buttonArea svelte-1vkgg94"),S(t,"class","gameOverOverlay svelte-1vkgg94")},m(v,C){q(v,t,C),_(t,s),_(t,a),_(t,r),_(r,i),_(i,u),_(i,d),_(i,o),_(i,k),_(i,N),_(i,w),_(i,g),_(r,F),_(r,L),V.m(X,L),_(t,P),_(t,O),_(O,x),_(O,T),_(O,D),y=!0,h||(m=[pe(x,"click",n[7]),pe(D,"click",n[9])],h=!0)},p(v,C){n=v,(!y||C&8)&&ae(d,n[3]),(!y||C&16)&&ae(w,n[4])},i(v){y||(v&&me(()=>{y&&(e||(e=fe(s,we,{duration:ce,y:"-250px"},!0)),e.run(1))}),v&&me(()=>{y&&(p||(p=fe(t,Se,{duration:ce},!0)),p.run(1))}),y=!0)},o(v){v&&(e||(e=fe(s,we,{duration:ce,y:"-250px"},!1)),e.run(0)),v&&(p||(p=fe(t,Se,{duration:ce},!1)),p.run(0)),y=!1},d(v){v&&b(t),v&&e&&e.end(),v&&p&&p.end(),h=!1,Le(m)}}}function rt(n){let t,s,l,e=`<a href="${ze}/" class="backButton svelte-1vkgg94">BACK</a>`,a,r,i,u,d,o,k,N="Time:",w,g=oe(n[5])+"",F,L,V,X="Previous Best:",P,O=n[6].playerStats.highestScore+"",x,Y,T,D,c=oe(n[6].playerStats.highestScoreTime)+"",p,y,h,m,v,C;u=new at({props:{value:n[0]}});let U=re(n[1]),I=[];for(let f=0;f<U.length;f+=1)I[f]=Ce(Be(n,U,f));let B=n[2]&&Pe(n);return{c(){t=E("meta"),s=J(),l=E("div"),l.innerHTML=e,a=J(),r=E("div"),i=E("div"),Fe(u.$$.fragment),d=J(),o=E("div"),k=E("p"),k.textContent=N,w=E("p"),F=H(g),L=J(),V=E("p"),V.textContent=X,P=E("p"),x=H(O),Y=H(" out of "),T=H($),D=H(" in "),p=H(c),y=J(),h=E("div");for(let f=0;f<I.length;f+=1)I[f].c();m=J(),B&&B.c(),v=ie(),this.h()},l(f){const R=qe("svelte-1e93ikj",document.head);t=A(R,"META",{name:!0,content:!0}),R.forEach(b),s=Q(f),l=A(f,"DIV",{class:!0,"data-svelte-h":!0}),se(l)!=="svelte-196lbky"&&(l.innerHTML=e),a=Q(f),r=A(f,"DIV",{class:!0});var j=M(r);i=A(j,"DIV",{class:!0});var G=M(i);He(u.$$.fragment,G),G.forEach(b),d=Q(j),o=A(j,"DIV",{class:!0});var Z=M(o);k=A(Z,"P",{class:!0,"data-svelte-h":!0}),se(k)!=="svelte-16vailj"&&(k.textContent=N),w=A(Z,"P",{class:!0});var be=M(w);F=W(be,g),be.forEach(b),L=Q(Z),V=A(Z,"P",{class:!0,"data-svelte-h":!0}),se(V)!=="svelte-e36n45"&&(V.textContent=X),P=A(Z,"P",{class:!0});var te=M(P);x=W(te,O),Y=W(te," out of "),T=W(te,$),D=W(te," in "),p=W(te,c),te.forEach(b),Z.forEach(b),y=Q(j),h=A(j,"DIV",{class:!0});var ke=M(h);for(let ve=0;ve<I.length;ve+=1)I[ve].l(ke);ke.forEach(b),j.forEach(b),m=Q(f),B&&B.l(f),v=ie(),this.h()},h(){document.title="PlaceIt | Play",S(t,"name","description"),S(t,"content","Play PlaceIt a game about numbers and places."),S(l,"class","navigation svelte-1vkgg94"),S(i,"class","rollArea"),S(k,"class","timeLabel svelte-1vkgg94"),S(w,"class","svelte-1vkgg94"),S(V,"class","timeLabel svelte-1vkgg94"),S(P,"class","svelte-1vkgg94"),S(o,"class","timeArea svelte-1vkgg94"),S(h,"class","tableArea svelte-1vkgg94"),S(r,"class","container svelte-1vkgg94")},m(f,R){_(document.head,t),q(f,s,R),q(f,l,R),q(f,a,R),q(f,r,R),_(r,i),We(u,i,null),_(r,d),_(r,o),_(o,k),_(o,w),_(w,F),_(o,L),_(o,V),_(o,P),_(P,x),_(P,Y),_(P,T),_(P,D),_(P,p),_(r,y),_(r,h);for(let j=0;j<I.length;j+=1)I[j]&&I[j].m(h,null);q(f,m,R),B&&B.m(f,R),q(f,v,R),C=!0},p(f,[R]){const j={};if(R&1&&(j.value=f[0]),u.$set(j),(!C||R&32)&&g!==(g=oe(f[5])+"")&&ae(F,g),(!C||R&64)&&O!==(O=f[6].playerStats.highestScore+"")&&ae(x,O),(!C||R&64)&&c!==(c=oe(f[6].playerStats.highestScoreTime)+"")&&ae(p,c),R&258){U=re(f[1]);let G;for(G=0;G<U.length;G+=1){const Z=Be(f,U,G);I[G]?I[G].p(Z,R):(I[G]=Ce(Z),I[G].c(),I[G].m(h,null))}for(;G<I.length;G+=1)I[G].d(1);I.length=U.length}f[2]?B?(B.p(f,R),R&4&&ee(B,1)):(B=Pe(f),B.c(),ee(B,1),B.m(v.parentNode,v)):B&&(xe(),ne(B,1,1,()=>{B=null}),Re())},i(f){C||(ee(u.$$.fragment,f),ee(B),C=!0)},o(f){ne(u.$$.fragment,f),ne(B),C=!1},d(f){f&&(b(s),b(l),b(a),b(r),b(m),b(v)),b(t),Ge(u),Oe(I,f),B&&B.d(f)}}}const $=20,ot=1,Me=999,ct=1e3,ce=750,ut=10;function ft(n,t,s){let l,e;ye(n,Te,c=>s(17,l=c)),ye(n,z,c=>s(6,e=c));let a,r,i=new Array($).fill().map(()=>({disabled:!1,value:null})),u=!1,d=0,o,k,N,w,g,F;Ve(()=>{s(0,r=Me),setTimeout(()=>V(),100)}),je(()=>{window.cancelAnimationFrame(g)});function L(c){if(c<w+1e3/ut){g=requestAnimationFrame(L);return}w=c,s(5,F=c-o),g=window.requestAnimationFrame(L)}function V(){a=[];for(let c=ot;c<=Me;c++)a.push(c);s(1,i=new Array($).fill().map(()=>({disabled:!1,value:null}))),s(2,u=!1),setTimeout(()=>{o=window.performance.now(),w=o,g=window.requestAnimationFrame(L)},ce),k={},X()}function X(){const p=a.length-1,y=Math.floor(Math.random()*(p-0+1))+0,h=a[y];a.splice(y,1),s(0,r=h),O()}function P(c){s(1,i[c].value=r,i),s(1,i[c].disabled=!0,i),X(),x()}function O(){if(i.every(h=>h.value===null))return;const c=i.filter(h=>h.value!==null).map(h=>h.value);let p=NaN;for(const h of c)h<r&&(isNaN(p)||h>p)&&(p=h);let y=NaN;for(const h of c)h>r&&(isNaN(y)||h<y)&&(y=h);if(isNaN(p)&&!isNaN(y)){let h=i.findIndex(m=>m.value===y);for(let m=0;m<h;m++)i[m].value||s(1,i[m].disabled=!1,i);for(let m=h+1;m<i.length;m++)i[m].value||s(1,i[m].disabled=!0,i)}else if(!isNaN(p)&&isNaN(y)){let h=i.findIndex(m=>m.value===p);for(let m=h;m<i.length;m++)i[m].value||s(1,i[m].disabled=!1,i);for(let m=0;m<h;m++)i[m].value||s(1,i[m].disabled=!0,i)}else{let h=i.findIndex(v=>v.value===p),m=i.findIndex(v=>v.value===y);for(let v=0;v<h;v++)i[v].value||s(1,i[v].disabled=!0,i);for(let v=h;v<m;v++)i[v].value||s(1,i[v].disabled=!1,i);for(let v=m;v<i.length;v++)i[v].value||s(1,i[v].disabled=!0,i)}}async function x(){let c;if(i.every(p=>p.value!==null)?c="win":i.every(p=>p.disabled===!0)?c="lose":c="continue",c!=="continue"){k=window.performance.now(),cancelAnimationFrame(g);const p=k-o;s(4,N=oe(p)),s(3,d=i.filter(m=>m.value!==null).length);const y=i.find(m=>m.value),h=i.toReversed().find(m=>m.value);K(z,e.playerStats.totalGames++,e),d>e.playerStats.highestScore?(K(z,e.playerStats.highestScore=d,e),K(z,e.playerStats.highestScoreTime=p,e)):d===e.playerStats.highestScore&&p<e.playerStats.highestScoreTime&&K(z,e.playerStats.highestScoreTime=p,e),h.value>e.playerStats.highestPlaced&&K(z,e.playerStats.highestPlaced=h.value,e),y.value<e.playerStats.lowestPlaced&&K(z,e.playerStats.lowestPlaced=y.value,e),c==="win"&&(K(z,e.playerStats.wonGames++,e),(e.playerStats.fastestWin===null||p<e.playerStats.fastestWin)&&K(z,e.playerStats.fastestWin=p,e),(e.playerStats.slowestWin===null||p>e.playerStats.slowestWin)&&K(z,e.playerStats.slowestWin=p,e),i[0].value>e.playerStats.highestFirstBucket&&K(z,e.playerStats.highestFirstBucket=i[0].value,e),i[$-1]<e.playerStats.lowestLastBucket&&K(z,e.playerStats.lowestLastBucket=i[$-1].value,e)),await Qe(),setTimeout(()=>s(2,u=!0),ct)}}function Y(){const c=`I placed ${d} out of ${$} tiles in ${N} on PlaceIt!`,p=T(),h=`${c}

${p}

Can you place more? https://placeitgame.app`;navigator.clipboard.writeText(h),K(Te,l={level:"info",message:"COPIED TO CLIPBOARD"},l)}function T(c="text"){let y="",h,m,v;c==="html"?(m="&#x2B1B;",v="&#x1F7E9;",h="<br/>"):(m="⬛",v="🟩",h=`
`);for(const[C,U]of i.entries())U.value===null?y=y+m:y=y+v,(C+1)%5===0&&(y=y+h);return y.trim()}return[r,i,u,d,N,F,e,V,P,Y,T,c=>P(c)]}class bt extends _e{constructor(t){super(),ge(this,t,ft,rt,he,{})}}export{bt as component};
